# ğŸ¨ UI/UXè©³ç´°è¨­è¨ˆæ›¸
# ãŠã¤ã‹ã„ãƒã‚¤ãƒ³ãƒˆ MVPç‰ˆ

---

## ğŸ“„ æ–‡æ›¸æƒ…å ±

| é …ç›® | å†…å®¹ |
|------|------|
| **æ–‡æ›¸ã‚¿ã‚¤ãƒˆãƒ«** | ãŠã¤ã‹ã„ãƒã‚¤ãƒ³ãƒˆ UI/UXè©³ç´°è¨­è¨ˆæ›¸ |
| **ãƒãƒ¼ã‚¸ãƒ§ãƒ³** | v1.0 |
| **ä½œæˆæ—¥** | 2025å¹´09æœˆ23æ—¥ |
| **ä½œæˆè€…** | ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ï¼ˆUI/UXãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼å¯„ã‚Šï¼‰ |
| **æ‰¿èªçŠ¶æ³** | **æ‰¿èªæ¸ˆã¿** |
| **å¯¾è±¡èª­è€…** | æŠ€è¡“ãƒãƒ¼ãƒ ãƒªãƒ¼ãƒ€ãƒ¼ã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã€PDMã€QAã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ |

---

## ğŸ¯ 1. è¨­è¨ˆæ¦‚è¦

### 1.1 è¨­è¨ˆç›®çš„

æœ¬è¨­è¨ˆæ›¸ã¯ã€ãŠã¤ã‹ã„ãƒã‚¤ãƒ³ãƒˆMVPç‰ˆã®åŒ…æ‹¬çš„ãªUI/UXè¨­è¨ˆã‚’å®šç¾©ã—ã€ä»¥ä¸‹ã®ç›®æ¨™ã‚’é”æˆã™ã‚‹ã“ã¨ã‚’ç›®çš„ã¨ã™ã‚‹ï¼š

#### 1.1.1 ç¤¾é•·KPIé”æˆã¸ã®è²¢çŒ®
- **ã‚³ãƒ¼ãƒ‰å‰Šæ¸›64%**: è»½é‡Widgetè¨­è¨ˆãƒ»è¶…åŠ¹ç‡åŒ–å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³ã«ã‚ˆã‚‹å¤§å¹…å‰Šæ¸›
  - 1Widgetå¹³å‡20-30è¡Œåˆ¶é™ï¼ˆå‰å›100è¡Œâ†’30è¡Œ = 70%å‰Šæ¸›ï¼‰
  - Material Design 3æ¨™æº–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæœ€å¤§æ´»ç”¨ï¼ˆã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã‚³ãƒ¼ãƒ‰80%å‰Šæ¸›ï¼‰
  - çµ±åˆãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆ1ç®‡æ‰€é›†ç´„ã§é‡è¤‡ã‚³ãƒ¼ãƒ‰å‰Šé™¤ï¼‰
  - å…±é€šãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£æ´»ç”¨ï¼ˆãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°ã§é‡è¤‡ãƒ­ã‚¸ãƒƒã‚¯çµ±åˆï¼‰
- **æ‹¡å¼µæ€§20%ä»¥ä¸‹**: å…·ä½“çš„æ•°å€¤æ ¹æ‹ ã«ã‚ˆã‚‹æ–°æ©Ÿèƒ½è¿½åŠ æ™‚ã®UIå¤‰æ›´ç‡æœ€å°åŒ–
  - é€šçŸ¥æ©Ÿèƒ½è¿½åŠ : æ–°è¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä½œæˆã®ã¿ï¼ˆæ—¢å­˜å¤‰æ›´ç‡2%ï¼‰
  - ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ãƒ¢ãƒ¼ãƒ‰: çŠ¶æ…‹ç®¡ç†è¿½åŠ ã®ã¿ï¼ˆæ—¢å­˜å¤‰æ›´ç‡8%ï¼‰
  - ãƒªã‚¹ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ: æ–°è¦ç”»é¢ä½œæˆã®ã¿ï¼ˆæ—¢å­˜å¤‰æ›´ç‡5%ï¼‰
  - **åˆè¨ˆå¤‰æ›´ç‡**: 15% (ç›®æ¨™20%ä»¥ä¸‹é”æˆ)
- **ãƒªãƒªãƒ¼ã‚¹ç¢ºå®Ÿæ€§**: å®Ÿè£…å¯èƒ½æ€§é‡è¦–ãƒ»æŠ€è¡“åˆ¶ç´„è€ƒæ…®ã®ç¾å®Ÿçš„ãƒ‡ã‚¶ã‚¤ãƒ³

#### 1.1.2 ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ç›®æ¨™
- **ç›´æ„Ÿçš„æ“ä½œ**: èª¬æ˜ä¸è¦ã§æ“ä½œã§ãã‚‹ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å®Ÿç¾
- **è¦ªå­ä¸–ä»£å¯¾å¿œ**: å¹´é½¢ãƒ»æŠ€è¡“ãƒªãƒ†ãƒ©ã‚·ãƒ¼å•ã‚ãšä½¿ã„ã‚„ã™ã„ãƒ‡ã‚¶ã‚¤ãƒ³
- **æ„Ÿæƒ…çš„ä¾¡å€¤**: å®¶æ—ã®ã¤ãªãŒã‚Šã‚’æ„Ÿã˜ã‚‹æ¸©ã‹ã¿ã®ã‚ã‚‹ãƒ‡ã‚¶ã‚¤ãƒ³
- **ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£**: WCAG 2.1 AAæº–æ‹ ã®åŒ…æ‹¬çš„å¯¾å¿œ

### 1.2 å‰ææ¡ä»¶ãƒ»å‚ç…§æ–‡æ›¸

#### æŠ€è¡“ä»•æ§˜æº–æ‹ 
- âœ… **ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆæ›¸ v1.3**ï¼ˆ1ç”»é¢200è¡Œåˆ¶é™ã€Material Design 3ï¼‰
- âœ… **æ©Ÿèƒ½è©³ç´°ä»•æ§˜æ›¸ v1.1**ï¼ˆç”»é¢åˆ¥æ“ä½œãƒ•ãƒ­ãƒ¼ã€å…¥åŠ›æ¤œè¨¼ãƒ«ãƒ¼ãƒ«ï¼‰
- âœ… **ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆè¦æ±‚ä»•æ§˜æ›¸ v1.1**ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼è¦ä»¶ã€UI/UXè¦ä»¶ï¼‰
- âœ… **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹åŸºæœ¬è¨­è¨ˆæ›¸ v1.0**ï¼ˆãƒ‡ãƒ¼ã‚¿æ§‹é€ ã€ç”»é¢è¡¨ç¤ºãƒ‡ãƒ¼ã‚¿ï¼‰

#### åˆ¶ç´„æ¡ä»¶
- **Flutter 3.35+**: Material Design 3æ¨™æº–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæœ€å¤§æ´»ç”¨
- **60fpsç¶­æŒ**: ã‚¹ãƒ ãƒ¼ã‚ºãªã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³
- **ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ**: Androidå„ç”»é¢ã‚µã‚¤ã‚ºã§ã®æœ€é©è¡¨ç¤º
- **å®Ÿè£…åŠ¹ç‡é‡è¦–**: é–‹ç™ºå·¥æ•°æœ€å°åŒ–ã®ã‚·ãƒ³ãƒ—ãƒ«ãªãƒ‡ã‚¶ã‚¤ãƒ³

---

## ğŸ¨ 2. ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆ

### 2.1 ãƒ–ãƒ©ãƒ³ãƒ‰ã‚¢ã‚¤ãƒ‡ãƒ³ãƒ†ã‚£ãƒ†ã‚£

#### 2.1.1 ãƒ–ãƒ©ãƒ³ãƒ‰ã‚³ãƒ³ã‚»ãƒ—ãƒˆ
```
"ã¤ãªãŒã‚Š" - å®¶æ—é–“ã®æ¸©ã‹ãªã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³
"ã‚·ãƒ³ãƒ—ãƒ«" - æœ¬è³ªã«é›†ä¸­ã—ãŸåˆ†ã‹ã‚Šã‚„ã™ã•
"ä¿¡é ¼"    - å®‰å¿ƒã—ã¦ä½¿ãˆã‚‹å®‰å…¨æ€§
```

#### 2.1.2 ãƒ‡ã‚¶ã‚¤ãƒ³åŸå‰‡
- **ãƒ•ã‚¡ãƒŸãƒªãƒ¼ãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼**: è¦ªå­ã©ã¡ã‚‰ã«ã‚‚è¦ªã—ã¿ã‚„ã™ã„
- **ãƒŸãƒ‹ãƒãƒ«**: ä¸è¦ãªè£…é£¾ã‚’æ’é™¤ã—ãŸæ©Ÿèƒ½çš„ç¾ã—ã•
- **ä¸€è²«æ€§**: å…¨ç”»é¢ã§çµ±ä¸€ã•ã‚ŒãŸãƒ‡ã‚¶ã‚¤ãƒ³è¨€èª
- **ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–**: æ§˜ã€…ãªãƒ‡ãƒã‚¤ã‚¹ã‚µã‚¤ã‚ºã«é©å¿œ

### 2.2 ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆè¨­è¨ˆ

#### 2.2.1 ãƒ—ãƒ©ã‚¤ãƒãƒªã‚«ãƒ©ãƒ¼ï¼ˆå®¶æ—ã®æ¸©ã‹ã•ï¼‰
```
Primary Color:
â–  #4CAF50 (Green 500) - "æˆé•·ãƒ»å®‰å¿ƒãƒ»è‡ªç„¶"
  - Light: #81C784 (Green 300)
  - Dark: #388E3C (Green 700)

ç†ç”±: è¦ªå­ã®æˆé•·ã€ãŠè²·ã„ç‰©ã®æˆåŠŸä½“é¨“ã‚’è¡¨ç¾
Material Design 3 æ¨™æº–ã‚«ãƒ©ãƒ¼ã§å®Ÿè£…åŠ¹ç‡åŒ–
```

#### 2.2.2 ã‚»ã‚«ãƒ³ãƒ€ãƒªã‚«ãƒ©ãƒ¼ï¼ˆã‚¢ã‚¯ã‚»ãƒ³ãƒˆãƒ»å¼·èª¿ï¼‰
```
Secondary Color:
â–  #FF9800 (Orange 500) - "æ¥½ã—ã•ãƒ»æ´»æ°—ãƒ»é”æˆæ„Ÿ"
  - Light: #FFB74D (Orange 300)
  - Dark: #F57C00 (Orange 700)

ä½¿ç”¨ç”¨é€”: CTA ãƒœã‚¿ãƒ³ã€å®Œäº†çŠ¶æ…‹ã€ãŠç¥ã„è¡¨ç¾
```

#### 2.2.3 ã‚·ã‚¹ãƒ†ãƒ ã‚«ãƒ©ãƒ¼ï¼ˆçŠ¶æ…‹è¡¨ç¾ï¼‰
```
Success: #4CAF50 (Green 500) - å®Œäº†ãƒ»æˆåŠŸçŠ¶æ…‹
Warning: #FF9800 (Orange 500) - æ³¨æ„ãƒ»ç¢ºèªçŠ¶æ…‹
Error: #F44336 (Red 500) - ã‚¨ãƒ©ãƒ¼ãƒ»å‰Šé™¤çŠ¶æ…‹
Info: #2196F3 (Blue 500) - æƒ…å ±ãƒ»æ¡ˆå†…çŠ¶æ…‹
```

#### 2.2.4 ãƒ‹ãƒ¥ãƒ¼ãƒˆãƒ©ãƒ«ã‚«ãƒ©ãƒ¼ï¼ˆèƒŒæ™¯ãƒ»ãƒ†ã‚­ã‚¹ãƒˆï¼‰
```
Background Colors:
â–  #FAFAFA (Grey 50) - ä¸»èƒŒæ™¯è‰²
â–  #FFFFFF (White) - ã‚«ãƒ¼ãƒ‰ãƒ»ã‚³ãƒ³ãƒ†ãƒŠèƒŒæ™¯
â–  #F5F5F5 (Grey 100) - ã‚»ã‚¯ã‚·ãƒ§ãƒ³åŒºåˆ‡ã‚Š

Text Colors:
â–  #212121 (Grey 900) - ä¸»ãƒ†ã‚­ã‚¹ãƒˆ
â–  #757575 (Grey 600) - è£œåŠ©ãƒ†ã‚­ã‚¹ãƒˆ
â–  #BDBDBD (Grey 400) - ç„¡åŠ¹çŠ¶æ…‹ãƒ†ã‚­ã‚¹ãƒˆ
```

#### 2.2.5 ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰å¯¾å¿œ
```
ã‚·ã‚¹ãƒ†ãƒ è¨­å®šé€£å‹•ã§è‡ªå‹•åˆ‡ã‚Šæ›¿ãˆ
Material Design 3 æ¨™æº–ãƒ€ãƒ¼ã‚¯ãƒ†ãƒ¼ãƒæ´»ç”¨
```

### 2.3 ã‚¿ã‚¤ãƒã‚°ãƒ©ãƒ•ã‚£ã‚·ã‚¹ãƒ†ãƒ 

#### 2.3.1 ãƒ•ã‚©ãƒ³ãƒˆè¨­å®š
```
Primary Font: ã‚·ã‚¹ãƒ†ãƒ æ¨™æº–ãƒ•ã‚©ãƒ³ãƒˆ
- Android: Roboto
- æ—¥æœ¬èª: Noto Sans CJK JP

ç†ç”±: ãƒ©ã‚¤ã‚»ãƒ³ã‚¹å•é¡Œå›é¿ã€èª­ã¿ã‚„ã™ã•æœ€å„ªå…ˆ
```

#### 2.3.2 ãƒ•ã‚©ãƒ³ãƒˆã‚¹ã‚±ãƒ¼ãƒ«ï¼ˆè¦ªå­ä¸–ä»£é…æ…®ï¼‰
```
Display Large: 57sp - ã‚¢ãƒ—ãƒªã‚¿ã‚¤ãƒˆãƒ«ï¼ˆä½¿ç”¨é »åº¦ä½ï¼‰
Display Medium: 45sp - ãƒ¡ã‚¤ãƒ³è¦‹å‡ºã—ï¼ˆä½¿ç”¨é »åº¦ä½ï¼‰

Headline Large: 32sp - ç”»é¢ã‚¿ã‚¤ãƒˆãƒ«
Headline Medium: 28sp - ã‚»ã‚¯ã‚·ãƒ§ãƒ³è¦‹å‡ºã—
Headline Small: 24sp - ã‚«ãƒ¼ãƒ‰è¦‹å‡ºã—

Title Large: 22sp - ãƒªã‚¹ãƒˆã‚¿ã‚¤ãƒˆãƒ« â˜…ä¸»è¦
Title Medium: 16sp - é …ç›®å â˜…ä¸»è¦
Title Small: 14sp - è£œåŠ©æƒ…å ±

Body Large: 16sp - åŸºæœ¬ãƒ†ã‚­ã‚¹ãƒˆ â˜…ä¸»è¦
Body Medium: 14sp - èª¬æ˜æ–‡
Body Small: 12sp - ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³

Label Large: 14sp - ãƒœã‚¿ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ â˜…ä¸»è¦
Label Medium: 12sp - ã‚¿ãƒ–ãƒ»ãƒãƒƒãƒ—
Label Small: 11sp - æ³¨é‡ˆ
```

#### 2.3.3 è¡Œé–“ãƒ»æ–‡å­—é–“è¨­å®š
```
Line Height: ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚º Ã— 1.4 - 1.6
Letter Spacing: Material Design 3 æ¨™æº–å€¤ä½¿ç”¨
æ®µè½é–“éš”: 16dpï¼ˆåŸºæœ¬ã‚°ãƒªãƒƒãƒ‰å˜ä½ï¼‰
```

### 2.4 ã‚¹ãƒšãƒ¼ã‚·ãƒ³ã‚°ã‚·ã‚¹ãƒ†ãƒ 

#### 2.4.1 åŸºæœ¬ã‚°ãƒªãƒƒãƒ‰
```
Base Unit: 4dp
Primary Grid: 8dp (4dp Ã— 2)
Secondary Grid: 16dp (4dp Ã— 4)
Section Grid: 24dp (4dp Ã— 6)

è¨­è¨ˆç†ç”±: Material Design 3 æ¨™æº–ã€ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ
```

#### 2.4.2 ã‚¹ãƒšãƒ¼ã‚·ãƒ³ã‚°ã‚¹ã‚±ãƒ¼ãƒ«
```
xs: 4dp  - ã‚¢ã‚¤ã‚³ãƒ³ãƒ»ãƒ†ã‚­ã‚¹ãƒˆé–“
s:  8dp  - é–¢é€£è¦ç´ é–“
m:  16dp - ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆé–“ â˜…ä¸»è¦
l:  24dp - ã‚»ã‚¯ã‚·ãƒ§ãƒ³é–“
xl: 32dp - ç”»é¢ä¸Šä¸‹ãƒãƒ¼ã‚¸ãƒ³
xxl: 48dp - å¤§ã‚»ã‚¯ã‚·ãƒ§ãƒ³é–“
```

#### 2.4.3 ã‚¿ãƒƒãƒã‚¿ãƒ¼ã‚²ãƒƒãƒˆã‚µã‚¤ã‚ºï¼ˆè¦ªå­ä¸–ä»£é…æ…®ï¼‰
```
Minimum: 44dp Ã— 44dp - Material Design 3 æœ€å°å€¤
Recommended: 48dp Ã— 48dp - æ¨å¥¨ã‚µã‚¤ã‚º â˜…æ¡ç”¨
Large: 56dp Ã— 56dp - é‡è¦ãƒœã‚¿ãƒ³ï¼ˆè¦ªä¸–ä»£é…æ…®ï¼‰
Extra Large: 64dp Ã— 64dp - ãƒ¡ã‚¤ãƒ³CTAï¼ˆè¦ªä¸–ä»£é…æ…®ï¼‰
```

### 2.5 ã‚¢ã‚¤ã‚³ãƒ³ã‚·ã‚¹ãƒ†ãƒ 

#### 2.5.1 ã‚¢ã‚¤ã‚³ãƒ³ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
```
Primary: Material Icons (Outlined style)
- çµ±ä¸€æ„Ÿã®ã‚ã‚‹è¦–è¦šçš„è¡¨ç¾
- Material Design 3 å®Œå…¨å¯¾å¿œ
- ãƒ©ã‚¤ã‚»ãƒ³ã‚¹å•é¡Œãªã—

Size Scale:
- Small: 16dp - ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã‚¢ã‚¤ã‚³ãƒ³
- Medium: 24dp - åŸºæœ¬ã‚¢ã‚¤ã‚³ãƒ³ â˜…ä¸»è¦
- Large: 32dp - æ³¨ç›®ã‚¢ã‚¤ã‚³ãƒ³
- Extra Large: 48dp - ãƒ¡ã‚¤ãƒ³ã‚¢ã‚¯ã‚·ãƒ§ãƒ³
```

#### 2.5.2 ä¸»è¦ã‚¢ã‚¤ã‚³ãƒ³å®šç¾©
```
Navigation & Actions:
ğŸ  home - ãƒ›ãƒ¼ãƒ ç”»é¢
ğŸ“‹ list_alt - ãƒªã‚¹ãƒˆè¡¨ç¤º
â• add - è¿½åŠ æ“ä½œ
âœï¸ edit - ç·¨é›†æ“ä½œ
ğŸ—‘ï¸ delete - å‰Šé™¤æ“ä½œ
âœ… check_circle - å®Œäº†çŠ¶æ…‹
âš ï¸ warning - æ³¨æ„ãƒ»è­¦å‘Š

QR Code & Family:
ğŸ“± qr_code - QRã‚³ãƒ¼ãƒ‰ç”Ÿæˆ
ğŸ“· qr_code_scanner - QRã‚³ãƒ¼ãƒ‰ã‚¹ã‚­ãƒ£ãƒ³
ğŸ‘¥ family_restroom - å®¶æ—ç®¡ç†
ğŸ‘¤ person - ãƒ¦ãƒ¼ã‚¶ãƒ¼

Authentication:
ğŸ” login - ãƒ­ã‚°ã‚¤ãƒ³
ğŸ”“ logout - ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ
ğŸŒ language - Google OAuth

Shopping:
ğŸ›’ shopping_cart - ãŠè²·ã„ç‰©
ğŸ›ï¸ shopping_bag - ãƒªã‚¹ãƒˆ
ğŸ“ assignment - ã‚¢ã‚¤ãƒ†ãƒ 
âœ“ task_alt - å®Œäº†æ¸ˆã¿
```

### 2.6 ã‚¨ãƒ¬ãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ã‚·ã‚¹ãƒ†ãƒ 

#### 2.6.1 ã‚·ãƒ£ãƒ‰ã‚¦ãƒ¬ãƒ™ãƒ«ï¼ˆMaterial Design 3æº–æ‹ ï¼‰
```
Level 0: 0dp - èƒŒæ™¯é¢
Level 1: 1dp - ã‚«ãƒ¼ãƒ‰ã€å°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ â˜…ä¸»è¦
Level 2: 3dp - ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã€FAB
Level 3: 6dp - ãƒ¢ãƒ¼ãƒ€ãƒ«ã€ãƒ€ã‚¤ã‚¢ãƒ­ã‚° â˜…ä¸»è¦
Level 4: 8dp - ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒ‰ãƒ­ãƒ¯ãƒ¼
Level 5: 12dp - æœ€ä¸Šä½ãƒ¢ãƒ¼ãƒ€ãƒ«
```

#### 2.6.2 å®Ÿè£…æŒ‡é‡
```
ä½¿ç”¨é »åº¦: Level 1ï¼ˆã‚«ãƒ¼ãƒ‰ï¼‰ã€Level 3ï¼ˆãƒ€ã‚¤ã‚¢ãƒ­ã‚°ï¼‰ã‚’ä¸­å¿ƒ
é¿ã‘ã‚‹: éåº¦ãªã‚¨ãƒ¬ãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆé‡ã„å°è±¡å›é¿ï¼‰
ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³: ã‚¿ãƒƒãƒ—æ™‚ã®è»½å¾®ãªã‚¨ãƒ¬ãƒ™ãƒ¼ã‚·ãƒ§ãƒ³å¤‰åŒ–
```

---

## ğŸ—ï¸ 3. ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ©ã‚¤ãƒ–ãƒ©ãƒªè¨­è¨ˆ

### 3.1 åŸºæœ¬ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆéšå±¤

#### 3.1.1 ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ†é¡
```
Atom Level (æœ€å°å˜ä½):
- OPButton - ãƒœã‚¿ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- OPTextField - å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
- OPIcon - ã‚¢ã‚¤ã‚³ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- OPAvatar - ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ãƒã‚¿ãƒ¼

Molecule Level (è¤‡åˆ):
- OPCard - ã‚«ãƒ¼ãƒ‰ã‚³ãƒ³ãƒ†ãƒŠ
- OPListItem - ãƒªã‚¹ãƒˆé …ç›®
- OPDialog - ãƒ€ã‚¤ã‚¢ãƒ­ã‚°
- OPFab - ãƒ•ãƒ­ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³

Organism Level (ã‚»ã‚¯ã‚·ãƒ§ãƒ³):
- OPAppBar - ã‚¢ãƒ—ãƒªãƒãƒ¼
- OPBottomNavigation - ãƒœãƒˆãƒ ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³
- OPShoppingList - ãŠè²·ã„ç‰©ãƒªã‚¹ãƒˆ
- OPQRCodeDisplay - QRã‚³ãƒ¼ãƒ‰è¡¨ç¤ºã‚¨ãƒªã‚¢

Template Level (ç”»é¢ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ):
- OPScreenTemplate - åŸºæœ¬ç”»é¢ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
- OPModalTemplate - ãƒ¢ãƒ¼ãƒ€ãƒ«ç”»é¢ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
```

### 3.2 åŸºæœ¬ãƒœã‚¿ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆOPButtonï¼‰

#### 3.2.1 ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³è¨­è¨ˆ
```dart
enum OPButtonType {
  filled,      // ãƒ¡ã‚¤ãƒ³ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆGoogleãƒ­ã‚°ã‚¤ãƒ³ã€ä¿å­˜ï¼‰
  outlined,    // ã‚»ã‚«ãƒ³ãƒ€ãƒªã‚¢ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆã‚­ãƒ£ãƒ³ã‚»ãƒ«ï¼‰
  text,        // è»½å¾®ãªã‚¢ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆè©³ç´°è¡¨ç¤ºï¼‰
  icon,        // ã‚¢ã‚¤ã‚³ãƒ³ã®ã¿ï¼ˆç·¨é›†ã€å‰Šé™¤ï¼‰
}

enum OPButtonSize {
  small,       // 32dp height - è»½å¾®ãªæ“ä½œ
  medium,      // 40dp height - åŸºæœ¬æ“ä½œ â˜…æ¨å¥¨
  large,       // 48dp height - é‡è¦æ“ä½œ
  extraLarge,  // 56dp height - ãƒ¡ã‚¤ãƒ³CTA
}
```

#### 3.2.2 è¦ªå­ä¸–ä»£å¯¾å¿œä»•æ§˜
```dart
// è¦ªä¸–ä»£å‘ã‘ï¼ˆå¤§ãã‚ã‚¿ãƒƒãƒ—é ˜åŸŸï¼‰
OPButton.large(
  text: 'Googleã§ãƒ­ã‚°ã‚¤ãƒ³',
  icon: Icons.login,
  onPressed: () => handleLogin(),
  semanticLabel: 'Googleã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™', // ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒªãƒ¼ãƒ€ãƒ¼å¯¾å¿œ
)

// å­ä¸–ä»£å‘ã‘ï¼ˆãƒ¢ãƒ€ãƒ³ãªãƒ‡ã‚¶ã‚¤ãƒ³ï¼‰
OPButton.medium(
  text: 'å®Œäº†',
  type: OPButtonType.filled,
  onPressed: () => markComplete(),
  hapticFeedback: true, // è§¦è¦šãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯
)
```

### 3.3 å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆOPTextFieldï¼‰

#### 3.3.1 ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³é€£å‹•è¨­è¨ˆ
```dart
class OPTextField extends StatelessWidget {
  final String label;
  final String? hint;
  final String? Function(String?)? validator;
  final int? maxLength;
  final TextInputType keyboardType;
  final bool isRequired;
  final Widget? prefixIcon;
  final Widget? suffixIcon;
  
  // ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£å¯¾å¿œ
  final String? semanticLabel;
  final bool autoFocus;
  final TextInputAction textInputAction;
}
```

#### 3.3.2 ã‚¨ãƒ©ãƒ¼çŠ¶æ…‹ãƒ‡ã‚¶ã‚¤ãƒ³
```
Normal State:
- Border: 1dp, Color: #E0E0E0 (Grey 300)
- Label: Body Large, Color: #757575 (Grey 600)

Focus State:
- Border: 2dp, Color: #4CAF50 (Primary)
- Label: Body Medium, Color: #4CAF50

Error State:
- Border: 2dp, Color: #F44336 (Error Red)
- Label: Body Medium, Color: #F44336
- Helper Text: Body Small, Color: #F44336
- Icon: error_outline, Color: #F44336
```

### 3.4 ã‚«ãƒ¼ãƒ‰ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆOPCardï¼‰

#### 3.4.1 ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚·ã‚¹ãƒ†ãƒ 
```dart
enum OPCardType {
  basic,        // åŸºæœ¬ã‚«ãƒ¼ãƒ‰ï¼ˆãƒªã‚¹ãƒˆé …ç›®ï¼‰
  elevated,     // ã‚¨ãƒ¬ãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ã‚ã‚Šï¼ˆé‡è¦ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ï¼‰
  outlined,     // ã‚¢ã‚¦ãƒˆãƒ©ã‚¤ãƒ³ã®ã¿ï¼ˆè»½å¾®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ï¼‰
}

class OPCard extends StatelessWidget {
  final Widget child;
  final OPCardType type;
  final VoidCallback? onTap;
  final EdgeInsets? padding;
  final double? borderRadius;
  final Color? backgroundColor;
  
  // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³å¯¾å¿œ
  final bool enableHoverEffect;
  final bool enableTapAnimation;
}
```

#### 3.4.2 å…±é€šãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³
```
Standard Card Layout:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [Icon] Title               [Action] â”‚ 16dp padding
â”‚ Subtitle                           â”‚ 
â”‚ Body content                       â”‚ 8dp between elements
â”‚ [SecondaryAction] [PrimaryAction]  â”‚ 16dp padding
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.5 ãƒªã‚¹ãƒˆé …ç›®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆOPListItemï¼‰

#### 3.5.1 ãŠè²·ã„ç‰©ãƒªã‚¹ãƒˆå°‚ç”¨è¨­è¨ˆ
```dart
class OPShoppingItem extends StatelessWidget {
  final String itemName;
  final bool isCompleted;
  final String? completedBy;
  final DateTime? completedAt;
  final VoidCallback? onToggleComplete;
  final VoidCallback? onEdit;
  final VoidCallback? onDelete;
  final bool isParent; // è¦ª/å­ãƒ¢ãƒ¼ãƒ‰åˆ‡ã‚Šæ›¿ãˆ
  
  // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³è¨­å®š
  final Duration animationDuration;
  final bool enableStrikethrough; // å®Œäº†æ™‚ã®å–ã‚Šæ¶ˆã—ç·š
}
```

#### 3.5.2 çŠ¶æ…‹åˆ¥ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«è¨­è¨ˆ
```
æœªå®Œäº†çŠ¶æ…‹ï¼ˆå­å‘ã‘ï¼‰:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“ ç‰›ä¹³                    [ å®Œäº† ] â”‚
â”‚    ä½œæˆè€…: ãŠæ¯ã•ã‚“                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

å®Œäº†çŠ¶æ…‹ï¼ˆè¦ªãŒç¢ºèªï¼‰:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ… ç‰›ä¹³                           â”‚
â”‚    å®Œäº†è€…: å¤ªéƒ (10:30)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

è¦ªãƒ¢ãƒ¼ãƒ‰ï¼ˆç·¨é›†å¯èƒ½ï¼‰:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“ ç‰›ä¹³               [ç·¨é›†][å‰Šé™¤] â”‚
â”‚    ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹: æœªå®Œäº†               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.6 ãƒ¢ãƒ¼ãƒ€ãƒ«ãƒ»ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

#### 3.6.1 ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°ï¼ˆOPConfirmDialogï¼‰
```dart
class OPConfirmDialog extends StatelessWidget {
  final String title;
  final String content;
  final String confirmText;
  final String cancelText;
  final VoidCallback onConfirm;
  final VoidCallback? onCancel;
  final Color? confirmButtonColor; // å±é™ºæ“ä½œã¯èµ¤è‰²
  final IconData? icon;
}
```

#### 3.6.2 å…¥åŠ›ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ï¼ˆOPInputDialogï¼‰
```dart
class OPInputDialog extends StatelessWidget {
  final String title;
  final String label;
  final String? initialValue;
  final String? Function(String?)? validator;
  final int? maxLength;
  final Function(String) onSubmit;
  final VoidCallback? onCancel;
}
```

---

## ğŸ“± 4. å…¨ç”»é¢è©³ç´°ãƒ‡ã‚¶ã‚¤ãƒ³

### 4.1 ãƒ­ã‚°ã‚¤ãƒ³ãƒ»èªè¨¼ç”»é¢

#### 4.1.1 ç”»é¢æ§‹æˆãƒ»ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
```
ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ï¼ˆå…±é€šï¼‰:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                     â”‚ 32dp top
â”‚              ğŸ                      â”‚ 48dp icon
â”‚         ãŠã¤ã‹ã„ãƒã‚¤ãƒ³ãƒˆ              â”‚ Headline Large
â”‚                                     â”‚ 24dp spacing
â”‚     å®¶æ—ã§ãŠè²·ã„ç‰©ãƒªã‚¹ãƒˆã‚’å…±æœ‰        â”‚ Body Large
â”‚                                     â”‚ 48dp spacing
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ ğŸŒ Googleã§ãƒ­ã‚°ã‚¤ãƒ³          â”‚     â”‚ 56dp height (è¦ªä¸–ä»£é…æ…®)
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                     â”‚ 16dp spacing
â”‚         åˆå›åˆ©ç”¨ã®æ–¹ã¯ã“ã¡ã‚‰          â”‚ Body Medium, Link style
â”‚                                     â”‚ 32dp bottom
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 4.1.2 åˆå›ç™»éŒ²ç”»é¢
```
ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²ç”»é¢:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [â†] ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²                   â”‚ AppBar
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚ 24dp padding
â”‚  ãƒ¦ãƒ¼ã‚¶ãƒ¼åã‚’å…¥åŠ›ã—ã¦ãã ã•ã„        â”‚ Headline Medium
â”‚                                     â”‚ 16dp spacing
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ ãŠåå‰ (1-20æ–‡å­—)           â”‚     â”‚ TextField
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                     â”‚ 24dp spacing
â”‚  ã‚ãªãŸã®å½¹å‰²ã‚’é¸æŠã—ã¦ãã ã•ã„       â”‚ Body Large
â”‚                                     â”‚ 16dp spacing
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚     ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦      â”‚ â”‚     ğŸ‘¶      â”‚     â”‚ 48dp height
â”‚  â”‚    è¦ª      â”‚ â”‚    å­      â”‚     â”‚ Role selection
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                     â”‚ 32dp spacing
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚        ç™»éŒ²å®Œäº†              â”‚     â”‚ 48dp CTA button
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                     â”‚ 24dp bottom
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 4.1.3 UXãƒ•ãƒ­ãƒ¼ãƒ»ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³
```
1. ç”»é¢è¡¨ç¤ºæ™‚ã®è‡ªå‹•ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒã‚§ãƒƒã‚¯
   â†“ æœ‰åŠ¹ãªã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚ã‚Š
2. è©²å½“ãƒ­ãƒ¼ãƒ«ã®ãƒ›ãƒ¼ãƒ ç”»é¢ã¸è‡ªå‹•é·ç§»

1. ã€ŒGoogleã§ãƒ­ã‚°ã‚¤ãƒ³ã€ã‚¿ãƒƒãƒ—
   â†“ ã‚¿ãƒƒãƒ—ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ï¼ˆè»½å¾®ãªæ‹¡å¤§ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰
2. Google OAuthç”»é¢è¡¨ç¤º
   â†“ èªè¨¼æˆåŠŸ
3. åˆå›: ç™»éŒ²ç”»é¢é·ç§» / æ—¢å­˜: ãƒ›ãƒ¼ãƒ ç”»é¢é·ç§»

ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°:
- ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼: ã‚¹ãƒŠãƒƒã‚¯ãƒãƒ¼è¡¨ç¤º + ãƒªãƒˆãƒ©ã‚¤ãƒœã‚¿ãƒ³
- èªè¨¼ã‚­ãƒ£ãƒ³ã‚»ãƒ«: ã€Œãƒ­ã‚°ã‚¤ãƒ³ãŒã‚­ãƒ£ãƒ³ã‚»ãƒ«ã•ã‚Œã¾ã—ãŸã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
- èªè¨¼å¤±æ•—: ã€Œãƒ­ã‚°ã‚¤ãƒ³ã«å¤±æ•—ã—ã¾ã—ãŸã€‚å†åº¦ãŠè©¦ã—ãã ã•ã„ã€
```

### 4.2 è¦ªãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘ãƒ›ãƒ¼ãƒ ç”»é¢

#### 4.2.1 ç”»é¢æ§‹æˆãƒ»æƒ…å ±ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£
```
è¦ªãƒ›ãƒ¼ãƒ ç”»é¢:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ãŠã¤ã‹ã„ãƒã‚¤ãƒ³ãƒˆ        ğŸ‘¤[Profile] â”‚ AppBar + Avatar
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“± QRã‚³ãƒ¼ãƒ‰ - å®¶æ—ã‚’æ‹›å¾…             â”‚ Section Header
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚ â”‚         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ             â”‚     â”‚ 120dp Ã— 120dp
â”‚ â”‚         â–ˆâ–ˆ    â–ˆâ–ˆ             â”‚     â”‚ QR Code
â”‚ â”‚         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ             â”‚     â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚ QRã‚³ãƒ¼ãƒ‰ã‚’è¦‹ã›ã¦å®¶æ—ã‚’æ‹›å¾…ã—ã¦ãã ã•ã„ â”‚ Caption
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ 16dp divider
â”‚ ğŸ“‹ ä»Šæ—¥ã®ãŠè²·ã„ç‰©ãƒªã‚¹ãƒˆ (å®Œäº† 2/5)    â”‚ Section Header + Progress
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚ â”‚ ğŸ“ ç‰›ä¹³              [ç·¨é›†]  â”‚     â”‚ List Item
â”‚ â”‚ ğŸ“ ãƒ‘ãƒ³              [ç·¨é›†]  â”‚     â”‚
â”‚ â”‚ âœ… ã‚Šã‚“ã” (å¤ªéƒ 10:30)       â”‚     â”‚ Completed Item
â”‚ â”‚ âœ… åµ (èŠ±å­ 11:15)          â”‚     â”‚
â”‚ â”‚ ğŸ“ ãŠç±³              [ç·¨é›†]  â”‚     â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                              [+]    â”‚ FAB (Add Item)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ 16dp divider
â”‚ ğŸ‘¥ å®¶æ—ãƒ¡ãƒ³ãƒãƒ¼ (3äºº)                â”‚ Section Header
â”‚ ğŸ‘¨ ãŠçˆ¶ã•ã‚“ (è¦ª) âš« ã‚ªãƒ³ãƒ©ã‚¤ãƒ³        â”‚ Member Status
â”‚ ğŸ‘¦ å¤ªéƒ (å­) âš« ã‚ªãƒ³ãƒ©ã‚¤ãƒ³           â”‚
â”‚ ğŸ‘§ èŠ±å­ (å­) âšª 2æ™‚é–“å‰             â”‚ Offline status
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 4.2.2 ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ä»•æ§˜
```
QRã‚³ãƒ¼ãƒ‰æ“ä½œ:
- é•·æŠ¼ã—: QRã‚³ãƒ¼ãƒ‰æ‹¡å¤§è¡¨ç¤ºãƒ¢ãƒ¼ãƒ€ãƒ«
- ã‚¿ãƒƒãƒ—: ã€ŒQRã‚³ãƒ¼ãƒ‰ã‚’è¦‹ã›ã¦æ‹›å¾…ã—ã¦ãã ã•ã„ã€ãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ—

ãƒªã‚¹ãƒˆé …ç›®æ“ä½œ:
- ã‚¿ãƒƒãƒ—: ç·¨é›†ãƒ¢ãƒ¼ãƒ‰ï¼ˆã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ç·¨é›†ï¼‰
- ãƒ­ãƒ³ã‚°ã‚¿ãƒƒãƒ—: ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒ¡ãƒ‹ãƒ¥ãƒ¼ï¼ˆç·¨é›†/å‰Šé™¤ï¼‰
- ã‚¹ãƒ¯ã‚¤ãƒ—: å‰Šé™¤ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆå·¦ã‚¹ãƒ¯ã‚¤ãƒ—ï¼‰

FABï¼ˆ+ãƒœã‚¿ãƒ³ï¼‰:
- ã‚¿ãƒƒãƒ—: å•†å“è¿½åŠ ãƒ€ã‚¤ã‚¢ãƒ­ã‚°è¡¨ç¤º
- ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³: å›è»¢ã—ãªãŒã‚‰æ‹¡å¤§

é€²æ—è¡¨ç¤º:
- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°ï¼ˆWebSocketé€£æºï¼‰
- å®Œäº†æ™‚: ç¥ç¦ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆğŸ‰ã‚¨ãƒ•ã‚§ã‚¯ãƒˆï¼‰
```

### 4.3 å­ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘ç”»é¢ç¾¤

#### 4.3.1 QRã‚³ãƒ¼ãƒ‰ã‚¹ã‚­ãƒ£ãƒŠãƒ¼ç”»é¢
```
QRã‚¹ã‚­ãƒ£ãƒŠãƒ¼ç”»é¢:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [â†] QRã‚³ãƒ¼ãƒ‰èª­ã¿å–ã‚Š                â”‚ AppBar
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚ â”‚      ã‚«ãƒ¡ãƒ©ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼       â”‚     â”‚ Full camera view
â”‚ â”‚                             â”‚     â”‚
â”‚ â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚     â”‚ 160dp Ã— 160dp
â”‚ â”‚    â”‚                 â”‚      â”‚     â”‚ Scan area overlay
â”‚ â”‚    â”‚                 â”‚      â”‚     â”‚
â”‚ â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚     â”‚
â”‚ â”‚                             â”‚     â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                     â”‚ 16dp spacing
â”‚     QRã‚³ãƒ¼ãƒ‰ã‚’æ å†…ã«åˆã‚ã›ã¦ãã ã•ã„   â”‚ Body Large
â”‚                                     â”‚ 8dp spacing
â”‚        ğŸ“± æ‰‹å‹•ã§å‚åŠ ã‚³ãƒ¼ãƒ‰å…¥åŠ›        â”‚ Text button
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 4.3.2 å­å‘ã‘ãƒªã‚¹ãƒˆè¡¨ç¤ºç”»é¢
```
å­ãƒ›ãƒ¼ãƒ ç”»é¢ï¼ˆãƒªã‚¹ãƒˆè¡¨ç¤ºï¼‰:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ãŠè²·ã„ç‰©ãƒªã‚¹ãƒˆ          ğŸ‘¤[Profile] â”‚ AppBar
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“Š é€²æ—çŠ¶æ³                         â”‚ Section Header
â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ å®Œäº† 8/10 (80%)       â”‚ Progress Bar
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ 16dp divider
â”‚ ğŸ“ æœªå®Œäº†ã®ãŠè²·ã„ç‰©                  â”‚ Section Header
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚ â”‚ ğŸ“ ç‰›ä¹³          [âœ“ å®Œäº†]   â”‚     â”‚ 56dp height (å¤§ãã‚ãƒœã‚¿ãƒ³)
â”‚ â”‚    ãŠæ¯ã•ã‚“ãŒè¿½åŠ                â”‚     â”‚ Creator info
â”‚ â”‚ ğŸ“ ãƒ‘ãƒ³          [âœ“ å®Œäº†]   â”‚     â”‚
â”‚ â”‚    ãŠæ¯ã•ã‚“ãŒè¿½åŠ                â”‚     â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ 16dp divider
â”‚ âœ… å®Œäº†æ¸ˆã¿ (8ä»¶) [è¡¨ç¤º/éè¡¨ç¤º]      â”‚ Collapsible section
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚ â”‚ âœ… ã‚Šã‚“ã”                   â”‚     â”‚ Strikethrough text
â”‚ â”‚    ã‚ãªãŸãŒå®Œäº† (10:30)        â”‚     â”‚ Completion info
â”‚ â”‚ âœ… åµ                       â”‚     â”‚
â”‚ â”‚    ã‚ãªãŸãŒå®Œäº† (11:15)        â”‚     â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ 16dp divider
â”‚ ğŸ‘¥ å®¶æ—ãƒ¡ãƒ³ãƒãƒ¼                     â”‚ Section Header
â”‚ ğŸ‘¨ ãŠçˆ¶ã•ã‚“ âš« ã‚ªãƒ³ãƒ©ã‚¤ãƒ³            â”‚ Simple member list
â”‚ ğŸ‘§ èŠ±å­ âš« ã‚ªãƒ³ãƒ©ã‚¤ãƒ³               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 4.3.3 å®Œäº†ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒ»ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯
```
å®Œäº†ãƒœã‚¿ãƒ³ã‚¿ãƒƒãƒ—æ™‚:
1. å³åº§ã«ãƒ­ãƒ¼ã‚«ãƒ«çŠ¶æ…‹æ›´æ–°ï¼ˆæ¥½è¦³çš„æ›´æ–°ï¼‰
2. ãƒœã‚¿ãƒ³ â†’ âœ… ã‚¢ã‚¤ã‚³ãƒ³å¤‰åŒ–ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
3. è»½å¾®ãªè§¦è¦šãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ï¼ˆHapticFeedback.lightï¼‰
4. ã€Œâœ“ å®Œäº†ã—ã¾ã—ãŸã€ã‚¹ãƒŠãƒƒã‚¯ãƒãƒ¼è¡¨ç¤ºï¼ˆ2ç§’ï¼‰
5. ã‚µãƒ¼ãƒãƒ¼åŒæœŸï¼ˆãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ï¼‰

ã‚¨ãƒ©ãƒ¼æ™‚:
1. ãƒ­ãƒ¼ã‚«ãƒ«çŠ¶æ…‹ã‚’ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯
2. ã€Œå®Œäº†ã®è¨˜éŒ²ã«å¤±æ•—ã—ã¾ã—ãŸã€ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
3. [å†è©¦è¡Œ] ãƒœã‚¿ãƒ³è¡¨ç¤º
```

### 4.4 å•†å“è¿½åŠ ãƒ»ç·¨é›†ç”»é¢

#### 4.4.1 ãƒ¢ãƒ¼ãƒ€ãƒ«ãƒ€ã‚¤ã‚¢ãƒ­ã‚°è¨­è¨ˆ
```
å•†å“è¿½åŠ ãƒ€ã‚¤ã‚¢ãƒ­ã‚°:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å•†å“ã‚’è¿½åŠ                     [Ã—]   â”‚ Dialog Header
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚ 24dp padding
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚ â”‚ å•†å“å (30æ–‡å­—ä»¥å†…)          â”‚     â”‚ TextField
â”‚ â”‚ ä¾‹: ç‰›ä¹³ã€ãƒ‘ãƒ³               â”‚     â”‚ Hint text
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                     â”‚ 24dp spacing
â”‚      [ã‚­ãƒ£ãƒ³ã‚»ãƒ«]     [è¿½åŠ ]        â”‚ Action buttons
â”‚                                     â”‚ 16dp bottom
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

å•†å“ç·¨é›†ãƒ€ã‚¤ã‚¢ãƒ­ã‚°:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å•†å“ã‚’ç·¨é›†                    [Ã—]   â”‚ Dialog Header
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚ 24dp padding
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚ â”‚ ç‰›ä¹³                        â”‚     â”‚ Pre-filled TextField
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                     â”‚ 16dp spacing
â”‚ âš ï¸ ã“ã®å•†å“ã¯å¤ªéƒãŒå®Œäº†æ¸ˆã¿ã§ã™       â”‚ Warning (if completed)
â”‚                                     â”‚ 16dp spacing
â”‚      [ã‚­ãƒ£ãƒ³ã‚»ãƒ«]  [å‰Šé™¤]  [ä¿å­˜]   â”‚ Action buttons
â”‚                                     â”‚ 16dp bottom
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 4.4.2 ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»ã‚¨ãƒ©ãƒ¼è¡¨ç¤º
```
ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³:
- ç©ºæ–‡å­—: ã€Œå•†å“åã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€
- 30æ–‡å­—è¶…é: ã€Œå•†å“åã¯30æ–‡å­—ä»¥å†…ã§å…¥åŠ›ã—ã¦ãã ã•ã„ã€(æ–‡å­—æ•°ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼è¡¨ç¤º)
- é‡è¤‡: ã€Œã“ã®å•†å“ã¯æ—¢ã«ãƒªã‚¹ãƒˆã«è¿½åŠ ã•ã‚Œã¦ã„ã¾ã™ã€

æˆåŠŸãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯:
- è¿½åŠ : ã€Œå•†å“ã‚’è¿½åŠ ã—ã¾ã—ãŸã€ã‚¹ãƒŠãƒƒã‚¯ãƒãƒ¼ + ãƒªã‚¹ãƒˆæ›´æ–°ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
- ç·¨é›†: ã€Œå•†å“ã‚’æ›´æ–°ã—ã¾ã—ãŸã€ã‚¹ãƒŠãƒƒã‚¯ãƒãƒ¼
- å‰Šé™¤: ã€Œå•†å“ã‚’å‰Šé™¤ã—ã¾ã—ãŸã€ã‚¹ãƒŠãƒƒã‚¯ãƒãƒ¼ + å–ã‚Šæ¶ˆã—ã‚¢ã‚¯ã‚·ãƒ§ãƒ³
```

### 4.5 ã‚¨ãƒ©ãƒ¼çŠ¶æ…‹ãƒ»ç©ºçŠ¶æ…‹ç”»é¢è¨­è¨ˆ

#### 4.5.1 ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼çŠ¶æ…‹
```
ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼ç”»é¢:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                     â”‚ 64dp top spacing
â”‚              ğŸ“µ                     â”‚ 48dp icon (Grey 400)
â”‚                                     â”‚ 16dp spacing
â”‚        æ¥ç¶šã§ãã¾ã›ã‚“ã§ã—ãŸ           â”‚ Headline Medium
â”‚                                     â”‚ 16dp spacing
â”‚    ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆæ¥ç¶šã‚’ç¢ºèªã—ã¦       â”‚ Body Large (Grey 600)
â”‚      ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„          â”‚
â”‚                                     â”‚ 32dp spacing
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚        å†è©¦è¡Œ              â”‚     â”‚ 48dp height (Primary button)
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                     â”‚ 16dp spacing
â”‚      ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ã§ã‚‚é–²è¦§ã§ãã¾ã™       â”‚ Body Medium (Link style)
â”‚                                     â”‚ 64dp bottom spacing
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 4.5.2 ç©ºãƒªã‚¹ãƒˆçŠ¶æ…‹
```
ç©ºã®ãŠè²·ã„ç‰©ãƒªã‚¹ãƒˆ:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                     â”‚ 48dp top spacing
â”‚              ğŸ›’                     â”‚ 64dp icon (Primary color)
â”‚                                     â”‚ 24dp spacing
â”‚        ã¾ã å•†å“ãŒã‚ã‚Šã¾ã›ã‚“          â”‚ Headline Medium
â”‚                                     â”‚ 16dp spacing
â”‚      æœ€åˆã®å•†å“ã‚’è¿½åŠ ã—ã¦            â”‚ Body Large (Grey 600)
â”‚      ãŠè²·ã„ç‰©ã‚’å§‹ã‚ã¾ã—ã‚‡ã†          â”‚
â”‚                                     â”‚ 32dp spacing
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚    æœ€åˆã®å•†å“ã‚’è¿½åŠ          â”‚     â”‚ 48dp height (Primary button)
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                     â”‚ 48dp bottom spacing
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 4.5.3 QRã‚³ãƒ¼ãƒ‰ã‚¹ã‚­ãƒ£ãƒ³ã‚¨ãƒ©ãƒ¼
```
QRã‚³ãƒ¼ãƒ‰ã‚¨ãƒ©ãƒ¼:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                     â”‚ 24dp top spacing (ãƒ¢ãƒ¼ãƒ€ãƒ«å†…)
â”‚              âš ï¸                     â”‚ 48dp icon (Warning color)
â”‚                                     â”‚ 16dp spacing
â”‚      QRã‚³ãƒ¼ãƒ‰ã‚’èª­ã¿å–ã‚Œã¾ã›ã‚“        â”‚ Headline Small
â”‚                                     â”‚ 16dp spacing
â”‚    æ­£ã—ã„QRã‚³ãƒ¼ãƒ‰ã‚’ã‚‚ã†ä¸€åº¦          â”‚ Body Medium (Grey 600)
â”‚        èª­ã¿å–ã£ã¦ãã ã•ã„            â”‚
â”‚                                     â”‚ 24dp spacing
â”‚      [é–‰ã˜ã‚‹]       [å†è©¦è¡Œ]        â”‚ Action buttons
â”‚                                     â”‚ 16dp bottom spacing
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.6 è¨­å®šãƒ»ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç”»é¢

#### 4.6.1 è¨­å®šç”»é¢æ§‹æˆ
```
è¨­å®šç”»é¢:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [â†] è¨­å®š                           â”‚ AppBar
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ‘¤ ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«                      â”‚ Section Header
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚ â”‚ ğŸ‘¨ ç”°ä¸­å¤ªéƒ (è¦ª)             â”‚     â”‚ Profile Card
â”‚ â”‚ tanaka@example.com          â”‚     â”‚ 48dp height
â”‚ â”‚                      [ç·¨é›†] â”‚     â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ 16dp divider
â”‚ ğŸ‘¥ å®¶æ—è¨­å®š                         â”‚ Section Header
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚ â”‚ ğŸ  å®¶æ—ã‚°ãƒ«ãƒ¼ãƒ—ç®¡ç†          â”‚     â”‚ List Items
â”‚ â”‚ ğŸ“± QRã‚³ãƒ¼ãƒ‰å†è¡¨ç¤º           â”‚     â”‚ 48dp height each
â”‚ â”‚ ğŸ“Š åˆ©ç”¨çµ±è¨ˆ                 â”‚     â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ 16dp divider
â”‚ ğŸ”§ ã‚¢ãƒ—ãƒªè¨­å®š                       â”‚ Section Header
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚ â”‚ ğŸŒ™ ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰      [Toggle]â”‚     â”‚ Settings Items
â”‚ â”‚ ğŸ”” é€šçŸ¥è¨­å®š         [Toggle]â”‚     â”‚ with switches
â”‚ â”‚ ğŸ” ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼è¨­å®š          â”‚     â”‚
â”‚ â”‚ â“ ãƒ˜ãƒ«ãƒ—ãƒ»ã‚µãƒãƒ¼ãƒˆ          â”‚     â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ 16dp divider
â”‚ âš ï¸ ãã®ä»–                           â”‚ Section Header
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚ â”‚ ğŸšª ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ               â”‚     â”‚ 48dp height
â”‚ â”‚ ğŸ—‘ï¸ ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå‰Šé™¤           â”‚     â”‚ Danger zone
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 4.6.2 ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç·¨é›†ç”»é¢
```
ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç·¨é›†:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [â†] ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç·¨é›†                â”‚ AppBar
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚ 24dp padding
â”‚            ğŸ‘¤                       â”‚ 64dp avatar
â”‚                                     â”‚ 16dp spacing
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚ â”‚ è¡¨ç¤ºå                      â”‚     â”‚ TextField
â”‚ â”‚ ç”°ä¸­å¤ªéƒ                    â”‚     â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                     â”‚ 16dp spacing
â”‚ ç¾åœ¨ã®å½¹å‰²: è¦ª                      â”‚ Read-only info
â”‚                                     â”‚ 8dp spacing
â”‚ â€»å½¹å‰²ã®å¤‰æ›´ã¯ã‚µãƒãƒ¼ãƒˆã¾ã§ãŠå•ã„åˆã‚ã›ãã ã•ã„ â”‚ Caption
â”‚                                     â”‚ 32dp spacing
â”‚      [ã‚­ãƒ£ãƒ³ã‚»ãƒ«]     [ä¿å­˜]        â”‚ Action buttons
â”‚                                     â”‚ 24dp bottom
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ 5. ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ä»•æ§˜è©³ç´°

### 5.1 ç”»é¢é·ç§»ãƒ‘ã‚¿ãƒ¼ãƒ³

#### 5.1.1 é·ç§»ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³è¨­è¨ˆ
```dart
// æ¨™æº–ç”»é¢é·ç§»ï¼ˆMaterial Design 3æº–æ‹ ï¼‰
Route createRoute(Widget page) {
  return PageRouteBuilder(
    pageBuilder: (context, animation, secondaryAnimation) => page,
    transitionDuration: Duration(milliseconds: 300),
    transitionsBuilder: (context, animation, secondaryAnimation, child) {
      // Slide transition (Androidæ¨™æº–)
      const begin = Offset(1.0, 0.0);
      const end = Offset.zero;
      const curve = Curves.ease;
      
      var tween = Tween(begin: begin, end: end).chain(
        CurveTween(curve: curve),
      );
      
      return SlideTransition(
        position: animation.drive(tween),
        child: child,
      );
    },
  );
}

// ãƒ¢ãƒ¼ãƒ€ãƒ«é·ç§»ï¼ˆãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã€ãƒœãƒˆãƒ ã‚·ãƒ¼ãƒˆï¼‰
Route createModalRoute(Widget page) {
  return ModalBottomSheetRoute(
    builder: (context) => page,
    isScrollControlled: true,
    backgroundColor: Colors.transparent,
    transitionAnimationController: AnimationController(
      duration: Duration(milliseconds: 250),
      vsync: Navigator.of(context),
    ),
  );
}
```

#### 5.1.2 é·ç§»ãƒ•ãƒ­ãƒ¼å®šç¾©
```
èªè¨¼ãƒ•ãƒ­ãƒ¼:
ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ â†’ Google OAuth â†’ [åˆå›] ç™»éŒ²ç”»é¢ â†’ å½¹å‰²åˆ¥ãƒ›ãƒ¼ãƒ ç”»é¢
                            â†’ [æ—¢å­˜] å½¹å‰²åˆ¥ãƒ›ãƒ¼ãƒ ç”»é¢

è¦ªãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒ­ãƒ¼:
ãƒ›ãƒ¼ãƒ  â†’ å•†å“è¿½åŠ ãƒ€ã‚¤ã‚¢ãƒ­ã‚° â†’ ãƒ›ãƒ¼ãƒ 
      â†’ å•†å“ç·¨é›†ãƒ€ã‚¤ã‚¢ãƒ­ã‚° â†’ ãƒ›ãƒ¼ãƒ 
      â†’ è¨­å®šç”»é¢ â†’ ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç·¨é›† â†’ è¨­å®šç”»é¢

å­ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒ­ãƒ¼:
QRã‚¹ã‚­ãƒ£ãƒŠãƒ¼ â†’ å®¶æ—å‚åŠ  â†’ ãƒªã‚¹ãƒˆè¡¨ç¤ºç”»é¢
ãƒªã‚¹ãƒˆè¡¨ç¤º â†’ è¨­å®šç”»é¢ â†’ ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç·¨é›† â†’ è¨­å®šç”»é¢

å…±é€šãƒ•ãƒ­ãƒ¼:
ä»»æ„ç”»é¢ â†’ è¨­å®šç”»é¢ â†’ ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ â†’ ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢
```

### 5.2 ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯

#### 5.2.1 è§¦è¦šãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯è¨­è¨ˆ
```dart
enum OPHapticType {
  light,      // è»½å¾®ãªæ“ä½œï¼ˆå®Œäº†ãƒã‚§ãƒƒã‚¯ã€é¸æŠï¼‰
  medium,     // ä¸­ç¨‹åº¦ã®æ“ä½œï¼ˆãƒœã‚¿ãƒ³ã‚¿ãƒƒãƒ—ã€ã‚¹ã‚¤ãƒƒãƒåˆ‡ã‚Šæ›¿ãˆï¼‰
  heavy,      // é‡è¦ãªæ“ä½œï¼ˆå‰Šé™¤ã€ã‚¨ãƒ©ãƒ¼ï¼‰
  success,    // æˆåŠŸæ“ä½œï¼ˆä¿å­˜å®Œäº†ã€ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸï¼‰
}

class OPHapticFeedback {
  static void trigger(OPHapticType type) {
    switch (type) {
      case OPHapticType.light:
        HapticFeedback.lightImpact();
        break;
      case OPHapticType.medium:
        HapticFeedback.mediumImpact();
        break;
      case OPHapticType.heavy:
        HapticFeedback.heavyImpact();
        break;
      case OPHapticType.success:
        HapticFeedback.notificationImpact(NotificationImpactFeedback.success);
        break;
    }
  }
}
```

#### 5.2.2 è¦–è¦šãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ãƒ‘ã‚¿ãƒ¼ãƒ³
```dart
// ãƒœã‚¿ãƒ³ã‚¿ãƒƒãƒ—æ™‚ã®æ‹¡å¤§ç¸®å°ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
class OPTapAnimation extends StatefulWidget {
  final Widget child;
  final VoidCallback? onTap;
  final double scaleFactor; // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 0.95
  
  @override
  Widget build(BuildContext context) {
    return AnimatedScale(
      scale: _isPressed ? scaleFactor : 1.0,
      duration: Duration(milliseconds: 100),
      child: GestureDetector(
        onTapDown: (_) => setState(() => _isPressed = true),
        onTapUp: (_) => setState(() => _isPressed = false),
        onTap: onTap,
        child: child,
      ),
    );
  }
}

// ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ã®çµ±ä¸€ãƒ‘ã‚¿ãƒ¼ãƒ³
class OPLoadingIndicator extends StatelessWidget {
  final String? message;
  final double size;
  
  @override
  Widget build(BuildContext context) {
    return Column(
      mainAxisSize: MainAxisSize.min,
      children: [
        SizedBox(
          width: size,
          height: size,
          child: CircularProgressIndicator(
            strokeWidth: 3.0,
            color: Theme.of(context).colorScheme.primary,
          ),
        ),
        if (message != null) ...[
          SizedBox(height: 16),
          Text(
            message!,
            style: Theme.of(context).textTheme.bodyMedium,
            textAlign: TextAlign.center,
          ),
        ],
      ],
    );
  }
}
```

### 5.3 ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°ãƒ»çŠ¶æ…‹åŒæœŸ

#### 5.3.1 ãƒ‡ãƒ¼ã‚¿åŒæœŸãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯
```dart
// ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°æ™‚ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
class OPListUpdateAnimation extends StatefulWidget {
  final Widget child;
  final String itemId;
  
  @override
  Widget build(BuildContext context) {
    return AnimatedContainer(
      duration: Duration(milliseconds: 500),
      decoration: BoxDecoration(
        color: _isNewlyUpdated ? 
          Theme.of(context).colorScheme.primary.withOpacity(0.1) : 
          Colors.transparent,
        borderRadius: BorderRadius.circular(8),
      ),
      child: AnimatedSlide(
        offset: _isNewlyAdded ? Offset(0, -0.1) : Offset.zero,
        duration: Duration(milliseconds: 300),
        child: child,
      ),
    );
  }
}

// æ¥ç¶šçŠ¶æ…‹ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼
class OPConnectionStatus extends StatelessWidget {
  final bool isConnected;
  final DateTime? lastSync;
  
  @override
  Widget build(BuildContext context) {
    return Row(
      mainAxisSize: MainAxisSize.min,
      children: [
        Icon(
          isConnected ? Icons.wifi : Icons.wifi_off,
          size: 16,
          color: isConnected ? Colors.green : Colors.grey,
        ),
        SizedBox(width: 4),
        Text(
          isConnected ? 'ã‚ªãƒ³ãƒ©ã‚¤ãƒ³' : 'æ¥ç¶šä¸­...',
          style: Theme.of(context).textTheme.bodySmall?.copyWith(
            color: isConnected ? Colors.green : Colors.grey,
          ),
        ),
      ],
    );
  }
}
```

#### 5.3.2 æ¥½è¦³çš„æ›´æ–°ãƒ‘ã‚¿ãƒ¼ãƒ³
```dart
// å•†å“å®Œäº†æ™‚ã®æ¥½è¦³çš„æ›´æ–°
class OptimisticUpdateHandler {
  static Future<void> markItemComplete(String itemId) async {
    // 1. å³åº§ã«ãƒ­ãƒ¼ã‚«ãƒ«çŠ¶æ…‹ã‚’æ›´æ–°
    final item = state.items.firstWhere((item) => item.id == itemId);
    final updatedItem = item.copyWith(
      status: 'completed',
      completedBy: currentUser.id,
      completedAt: DateTime.now(),
    );
    
    // 2. UI ã‚’å³åº§ã«æ›´æ–°
    state = state.copyWith(
      items: state.items.map((i) => i.id == itemId ? updatedItem : i).toList(),
    );
    
    // 3. ãƒãƒ—ãƒ†ã‚£ãƒƒã‚¯ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯
    OPHapticFeedback.trigger(OPHapticType.success);
    
    // 4. ã‚¹ãƒŠãƒƒã‚¯ãƒãƒ¼è¡¨ç¤º
    ScaffoldMessenger.of(context).showSnackBar(
      SnackBar(content: Text('âœ“ ${item.name} ã‚’å®Œäº†ã—ã¾ã—ãŸ')),
    );
    
    try {
      // 5. ã‚µãƒ¼ãƒãƒ¼ã«åŒæœŸï¼ˆãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ï¼‰
      await apiService.markItemComplete(itemId);
    } catch (error) {
      // 6. ã‚¨ãƒ©ãƒ¼æ™‚ã¯ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯
      state = state.copyWith(
        items: state.items.map((i) => i.id == itemId ? item : i).toList(),
      );
      
      // 7. ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º
      ScaffoldMessenger.of(context).showSnackBar(
        SnackBar(
          content: Text('å®Œäº†ã®è¨˜éŒ²ã«å¤±æ•—ã—ã¾ã—ãŸ'),
          action: SnackBarAction(
            label: 'å†è©¦è¡Œ',
            onPressed: () => markItemComplete(itemId),
          ),
        ),
      );
    }
  }
}
```

---

## â™¿ 6. ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ä»•æ§˜è¨­è¨ˆ

### 6.1 WCAG 2.1 AAæº–æ‹ è¦ä»¶

#### 6.1.1 è‰²è¦šãƒ»è¦–è¦šå¯¾å¿œ
```dart
// ã‚«ãƒ©ãƒ¼ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆè¦ä»¶ï¼ˆWCAG 2.1 AAï¼‰
const Map<String, double> contrastRatios = {
  'normal_text': 4.5,     // é€šå¸¸ãƒ†ã‚­ã‚¹ãƒˆï¼š4.5:1ä»¥ä¸Š
  'large_text': 3.0,      // å¤§ããªãƒ†ã‚­ã‚¹ãƒˆï¼š3.0:1ä»¥ä¸Š  
  'ui_component': 3.0,    // UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼š3.0:1ä»¥ä¸Š
};

// è‰²ã«ä¾å­˜ã—ãªã„æƒ…å ±ä¼é”
class OPAccessibleStatus {
  static Widget buildStatusIndicator({
    required String label,
    required bool isCompleted,
    required IconData icon,
  }) {
    return Row(
      children: [
        Icon(
          icon,
          color: isCompleted ? Colors.green : Colors.grey,
          semanticLabel: isCompleted ? 'å®Œäº†' : 'æœªå®Œäº†',
        ),
        SizedBox(width: 8),
        Text(
          label,
          style: TextStyle(
            decoration: isCompleted ? TextDecoration.lineThrough : null,
            color: isCompleted ? Colors.grey[600] : null,
          ),
        ),
        if (isCompleted) ...[
          SizedBox(width: 8),
          Text('âœ“', style: TextStyle(color: Colors.green)),
        ],
      ],
    );
  }
}
```

#### 6.1.2 ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒªãƒ¼ãƒ€ãƒ¼å¯¾å¿œ
```dart
// ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯æƒ…å ±ã®é©åˆ‡ãªè¨­å®š
class OPAccessibleButton extends StatelessWidget {
  final String label;
  final String? semanticLabel;
  final String? hint;
  final VoidCallback? onPressed;
  final bool isDestructive;
  
  @override
  Widget build(BuildContext context) {
    return Semantics(
      label: semanticLabel ?? label,
      hint: hint,
      button: true,
      enabled: onPressed != null,
      child: ElevatedButton(
        onPressed: onPressed,
        style: ElevatedButton.styleFrom(
          backgroundColor: isDestructive ? Colors.red : null,
        ),
        child: Text(label),
      ),
    );
  }
}

// è¤‡é›‘ãªã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã®ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯æ§‹é€ 
class OPAccessibleShoppingItem extends StatelessWidget {
  final String itemName;
  final bool isCompleted;
  final String? completedBy;
  final VoidCallback? onToggle;
  
  @override
  Widget build(BuildContext context) {
    final semanticLabel = isCompleted
        ? '$itemNameã€å®Œäº†æ¸ˆã¿ã€${completedBy}ãŒå®Œäº†'
        : '$itemNameã€æœªå®Œäº†';
    
    return Semantics(
      label: semanticLabel,
      button: true,
      child: ListTile(
        leading: Icon(
          isCompleted ? Icons.check_circle : Icons.radio_button_unchecked,
          color: isCompleted ? Colors.green : Colors.grey,
        ),
        title: Text(
          itemName,
          style: TextStyle(
            decoration: isCompleted ? TextDecoration.lineThrough : null,
          ),
        ),
        subtitle: isCompleted ? Text('å®Œäº†è€…: $completedBy') : null,
        onTap: onToggle,
      ),
    );
  }
}
```

### 6.2 è¦ªå­ä¸–ä»£åˆ¥ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£å¯¾å¿œ

#### 6.2.1 è¦ªä¸–ä»£å‘ã‘é…æ…®
```dart
// å¤§ããªã‚¿ãƒƒãƒ—é ˜åŸŸãƒ»è¦–èªæ€§é‡è¦–
class OPParentFriendlyButton extends StatelessWidget {
  final String label;
  final VoidCallback? onPressed;
  
  @override
  Widget build(BuildContext context) {
    return Container(
      width: double.infinity,
      height: 56, // å¤§ãã‚ã®ã‚¿ãƒƒãƒ—é ˜åŸŸ
      child: ElevatedButton(
        onPressed: onPressed,
        style: ElevatedButton.styleFrom(
          textStyle: TextStyle(
            fontSize: 18, // å¤§ãã‚ã®æ–‡å­—
            fontWeight: FontWeight.w500,
          ),
          shape: RoundedRectangleBorder(
            borderRadius: BorderRadius.circular(8),
          ),
        ),
        child: Text(label),
      ),
    );
  }
}

// æ˜ç¢ºãªæ“ä½œãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯
class OPClearFeedback {
  static void showSuccessMessage(BuildContext context, String message) {
    ScaffoldMessenger.of(context).showSnackBar(
      SnackBar(
        content: Row(
          children: [
            Icon(Icons.check_circle, color: Colors.white),
            SizedBox(width: 12),
            Expanded(
              child: Text(
                message,
                style: TextStyle(fontSize: 16), // èª­ã¿ã‚„ã™ã„ã‚µã‚¤ã‚º
              ),
            ),
          ],
        ),
        backgroundColor: Colors.green,
        duration: Duration(seconds: 4), // é•·ã‚ã®è¡¨ç¤ºæ™‚é–“
      ),
    );
  }
}
```

#### 6.2.2 å­ä¸–ä»£å‘ã‘é…æ…®  
```dart
// ãƒ¢ãƒ€ãƒ³ã§ç›´æ„Ÿçš„ãªã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
class OPChildFriendlyCard extends StatelessWidget {
  final String title;
  final String? subtitle;
  final Widget? trailing;
  final VoidCallback? onTap;
  
  @override
  Widget build(BuildContext context) {
    return Card(
      elevation: 2,
      margin: EdgeInsets.symmetric(horizontal: 16, vertical: 4),
      shape: RoundedRectangleBorder(
        borderRadius: BorderRadius.circular(12), // è§’ä¸¸ã§è¦ªã—ã¿ã‚„ã™ã
      ),
      child: InkWell(
        onTap: onTap,
        borderRadius: BorderRadius.circular(12),
        child: Padding(
          padding: EdgeInsets.all(16),
          child: Row(
            children: [
              Expanded(
                child: Column(
                  crossAxisAlignment: CrossAxisAlignment.start,
                  children: [
                    Text(
                      title,
                      style: Theme.of(context).textTheme.titleMedium,
                    ),
                    if (subtitle != null) ...[
                      SizedBox(height: 4),
                      Text(
                        subtitle!,
                        style: Theme.of(context).textTheme.bodySmall,
                      ),
                    ],
                  ],
                ),
              ),
              if (trailing != null) trailing!,
            ],
          ),
        ),
      ),
    );
  }
}
```

### 6.3 ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒ»ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ç®¡ç†

#### 6.3.1 ãƒ•ã‚©ãƒ¼ã‚«ã‚¹é †åºè¨­è¨ˆ
```dart
// è«–ç†çš„ãªãƒ•ã‚©ãƒ¼ã‚«ã‚¹é †åºã®å®šç¾©
class OPFocusOrder extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return FocusTraversalGroup(
      policy: OrderedTraversalPolicy(),
      child: Column(
        children: [
          FocusTraversalOrder(
            order: NumericFocusOrder(1),
            child: OPTextField(label: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼å'),
          ),
          FocusTraversalOrder(
            order: NumericFocusOrder(2),
            child: OPButton(label: 'è¦ª'),
          ),
          FocusTraversalOrder(
            order: NumericFocusOrder(3),
            child: OPButton(label: 'å­'),
          ),
          FocusTraversalOrder(
            order: NumericFocusOrder(4),
            child: OPButton(label: 'ç™»éŒ²å®Œäº†'),
          ),
        ],
      ),
    );
  }
}

// ã‚«ã‚¹ã‚¿ãƒ ãƒ•ã‚©ãƒ¼ã‚«ã‚¹è¡¨ç¤º
class OPFocusIndicator extends StatelessWidget {
  final Widget child;
  
  @override
  Widget build(BuildContext context) {
    return Focus(
      child: Builder(
        builder: (context) {
          final hasFocus = Focus.of(context).hasFocus;
          return AnimatedContainer(
            duration: Duration(milliseconds: 200),
            decoration: BoxDecoration(
              border: hasFocus
                  ? Border.all(
                      color: Theme.of(context).colorScheme.primary,
                      width: 2,
                    )
                  : null,
              borderRadius: BorderRadius.circular(8),
            ),
            child: child,
          );
        },
      ),
    );
  }
}
```

---

## ğŸ“± 7. ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ä»•æ§˜

### 7.1 ãƒ‡ãƒã‚¤ã‚¹ã‚µã‚¤ã‚ºå¯¾å¿œ

#### 7.1.1 ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆå®šç¾©
```dart
enum OPScreenSize {
  small,    // < 600dp width - å°å‹ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³
  medium,   // 600-840dp width - æ¨™æº–ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³  
  large,    // > 840dp width - å¤§å‹ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³ãƒ»å°å‹ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆ
}

class OPResponsive {
  static OPScreenSize getScreenSize(BuildContext context) {
    final width = MediaQuery.of(context).size.width;
    if (width < 600) return OPScreenSize.small;
    if (width < 840) return OPScreenSize.medium;
    return OPScreenSize.large;
  }
  
  static EdgeInsets getPadding(OPScreenSize size) {
    switch (size) {
      case OPScreenSize.small:
        return EdgeInsets.all(12); // ç‹­ã„ç”»é¢ã§ã¯ä½™ç™½ã‚’ç¸®å°
      case OPScreenSize.medium:
        return EdgeInsets.all(16); // æ¨™æº–çš„ãªä½™ç™½
      case OPScreenSize.large:
        return EdgeInsets.all(24); // åºƒã„ç”»é¢ã§ã¯ä½™ç™½ã‚’æ‹¡å¤§
    }
  }
  
  static double getQRCodeSize(OPScreenSize size) {
    switch (size) {
      case OPScreenSize.small:
        return 100; // å°ã•ã‚ã®QRã‚³ãƒ¼ãƒ‰
      case OPScreenSize.medium:
        return 120; // æ¨™æº–ã‚µã‚¤ã‚º
      case OPScreenSize.large:
        return 150; // å¤§ãã‚ã®QRã‚³ãƒ¼ãƒ‰
    }
  }
}
```

#### 7.1.2 ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆé©å¿œãƒ‘ã‚¿ãƒ¼ãƒ³
```dart
// ç”»é¢ã‚µã‚¤ã‚ºåˆ¥ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆåˆ‡ã‚Šæ›¿ãˆ
class OPResponsiveLayout extends StatelessWidget {
  final Widget smallLayout;
  final Widget? mediumLayout;
  final Widget? largeLayout;
  
  @override
  Widget build(BuildContext context) {
    final screenSize = OPResponsive.getScreenSize(context);
    
    switch (screenSize) {
      case OPScreenSize.small:
        return smallLayout;
      case OPScreenSize.medium:
        return mediumLayout ?? smallLayout;
      case OPScreenSize.large:
        return largeLayout ?? mediumLayout ?? smallLayout;
    }
  }
}

// QRã‚³ãƒ¼ãƒ‰è¡¨ç¤ºã®é©å¿œä¾‹
class OPQRCodeDisplay extends StatelessWidget {
  final String data;
  
  @override
  Widget build(BuildContext context) {
    final screenSize = OPResponsive.getScreenSize(context);
    final qrSize = OPResponsive.getQRCodeSize(screenSize);
    
    return OPResponsiveLayout(
      smallLayout: _buildCompactLayout(qrSize),
      mediumLayout: _buildStandardLayout(qrSize),
      largeLayout: _buildExpandedLayout(qrSize),
    );
  }
  
  Widget _buildCompactLayout(double qrSize) {
    // å°ç”»é¢: QRã‚³ãƒ¼ãƒ‰ã‚’ä¸­å¤®é…ç½®ã€èª¬æ˜æ–‡ã¯ä¸‹ã«
    return Column(
      children: [
        QrImageView(data: data, size: qrSize),
        SizedBox(height: 8),
        Text('QRã‚³ãƒ¼ãƒ‰ã‚’è¦‹ã›ã¦å®¶æ—ã‚’æ‹›å¾…', style: TextStyle(fontSize: 12)),
      ],
    );
  }
  
  Widget _buildStandardLayout(double qrSize) {
    // ä¸­ç”»é¢: æ¨™æº–ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
    return Column(
      children: [
        QrImageView(data: data, size: qrSize),
        SizedBox(height: 12),
        Text('QRã‚³ãƒ¼ãƒ‰ã‚’è¦‹ã›ã¦å®¶æ—ã‚’æ‹›å¾…ã—ã¦ãã ã•ã„', style: TextStyle(fontSize: 14)),
      ],
    );
  }
  
  Widget _buildExpandedLayout(double qrSize) {
    // å¤§ç”»é¢: æ¨ªä¸¦ã³ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
    return Row(
      children: [
        QrImageView(data: data, size: qrSize),
        SizedBox(width: 24),
        Expanded(
          child: Column(
            crossAxisAlignment: CrossAxisAlignment.start,
            children: [
              Text('å®¶æ—ã‚’æ‹›å¾…', style: TextStyle(fontSize: 18, fontWeight: FontWeight.bold)),
              SizedBox(height: 8),
              Text('QRã‚³ãƒ¼ãƒ‰ã‚’å®¶æ—ã«è¦‹ã›ã¦ã€ãŠè²·ã„ç‰©ãƒªã‚¹ãƒˆã‚’å…±æœ‰ã—ã¾ã—ã‚‡ã†'),
            ],
          ),
        ),
      ],
    );
  }
}
```

### 7.2 å‘ããƒ»ç”»é¢å›è»¢å¯¾å¿œ

#### 7.2.1 ç”»é¢å›è»¢åˆ¶å¾¡
```dart
// ã‚¢ãƒ—ãƒªå…¨ä½“ã§ã®å›è»¢åˆ¶å¾¡
class OPApp extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    // ãƒãƒ¼ãƒˆãƒ¬ãƒ¼ãƒˆãƒ¢ãƒ¼ãƒ‰ã«å›ºå®šï¼ˆã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³ã‚¢ãƒ—ãƒªã¨ã—ã¦æœ€é©åŒ–ï¼‰
    SystemChrome.setPreferredOrientations([
      DeviceOrientation.portraitUp,
      DeviceOrientation.portraitDown,
    ]);
    
    return MaterialApp(
      title: 'ãŠã¤ã‹ã„ãƒã‚¤ãƒ³ãƒˆ',
      theme: OPTheme.lightTheme,
      darkTheme: OPTheme.darkTheme,
      themeMode: ThemeMode.system,
      home: OPLoginScreen(),
    );
  }
}

// QRã‚¹ã‚­ãƒ£ãƒŠãƒ¼ã®ã¿å›è»¢å¯¾å¿œ
class OPQRScannerScreen extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    // QRã‚¹ã‚­ãƒ£ãƒŠãƒ¼ã¯æ¨ªå‘ãã§ã‚‚ä½¿ã„ã‚„ã™ã„ã‚ˆã†å›è»¢è¨±å¯
    SystemChrome.setPreferredOrientations([
      DeviceOrientation.portraitUp,
      DeviceOrientation.portraitDown,
      DeviceOrientation.landscapeLeft,
      DeviceOrientation.landscapeRight,
    ]);
    
    return Scaffold(
      body: OPQRScannerView(),
    );
  }
  
  @override
  void dispose() {
    // ç”»é¢çµ‚äº†æ™‚ã«ãƒãƒ¼ãƒˆãƒ¬ãƒ¼ãƒˆã«æˆ»ã™
    SystemChrome.setPreferredOrientations([
      DeviceOrientation.portraitUp,
      DeviceOrientation.portraitDown,
    ]);
    super.dispose();
  }
}
```

---

## ğŸš€ 8. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ»æœ€é©åŒ–è¨­è¨ˆ

### 8.1 60fpsç¶­æŒæˆ¦ç•¥

#### 8.1.1 åŠ¹ç‡çš„ãªã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆè¨­è¨ˆ
```dart
// å†æç”»æœ€å°åŒ–ã®ãŸã‚ã®Widgetåˆ†å‰²
class OPShoppingListView extends StatelessWidget {
  final List<ShoppingItem> items;
  
  @override
  Widget build(BuildContext context) {
    return ListView.builder(
      // ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–è¨­å®š
      itemExtent: 72.0, // å›ºå®šé«˜ã•ã§æç”»æœ€é©åŒ–
      cacheExtent: 200.0, // é©åˆ‡ãªã‚­ãƒ£ãƒƒã‚·ãƒ¥ç¯„å›²
      physics: BouncingScrollPhysics(), // ã‚¹ãƒ ãƒ¼ã‚ºãªã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«
      itemCount: items.length,
      itemBuilder: (context, index) {
        final item = items[index];
        return OPShoppingItemTile(
          key: ValueKey(item.id), // åŠ¹ç‡çš„ãªå†æç”»ã®ãŸã‚ã®ã‚­ãƒ¼
          item: item,
          onToggle: () => _handleItemToggle(item.id),
        );
      },
    );
  }
}

// å€‹åˆ¥ã‚¢ã‚¤ãƒ†ãƒ ã®æœ€é©åŒ–
class OPShoppingItemTile extends StatelessWidget {
  final ShoppingItem item;
  final VoidCallback? onToggle;
  
  const OPShoppingItemTile({
    Key? key,
    required this.item,
    this.onToggle,
  }) : super(key: key);
  
  @override
  Widget build(BuildContext context) {
    // å¤‰æ›´ã•ã‚Œãªã„éƒ¨åˆ†ã‚’constã§æœ€é©åŒ–
    return ListTile(
      leading: _buildStatusIcon(),
      title: Text(
        item.name,
        style: item.isCompleted
            ? TextStyle(
                decoration: TextDecoration.lineThrough,
                color: Colors.grey[600],
              )
            : null,
      ),
      subtitle: item.isCompleted
          ? Text('å®Œäº†è€…: ${item.completedBy} (${_formatTime(item.completedAt)})')
          : Text('ä½œæˆè€…: ${item.createdBy}'),
      onTap: onToggle,
    );
  }
  
  Widget _buildStatusIcon() {
    return Icon(
      item.isCompleted ? Icons.check_circle : Icons.radio_button_unchecked,
      color: item.isCompleted ? Colors.green : Colors.grey,
    );
  }
}
```

#### 8.1.2 ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³æœ€é©åŒ–
```dart
// åŠ¹ç‡çš„ãªã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè£…
class OPSmoothAnimation extends StatefulWidget {
  final Widget child;
  final bool trigger;
  
  @override
  _OPSmoothAnimationState createState() => _OPSmoothAnimationState();
}

class _OPSmoothAnimationState extends State<OPSmoothAnimation>
    with SingleTickerProviderStateMixin {
  late AnimationController _controller;
  late Animation<double> _animation;
  
  @override
  void initState() {
    super.initState();
    _controller = AnimationController(
      duration: Duration(milliseconds: 300),
      vsync: this,
    );
    _animation = Tween<double>(
      begin: 0.0,
      end: 1.0,
    ).animate(CurvedAnimation(
      parent: _controller,
      curve: Curves.easeInOut, // ã‚¹ãƒ ãƒ¼ã‚ºãªã‚«ãƒ¼ãƒ–
    ));
  }
  
  @override
  void didUpdateWidget(OPSmoothAnimation oldWidget) {
    super.didUpdateWidget(oldWidget);
    if (widget.trigger != oldWidget.trigger) {
      if (widget.trigger) {
        _controller.forward();
      } else {
        _controller.reverse();
      }
    }
  }
  
  @override
  Widget build(BuildContext context) {
    return AnimatedBuilder(
      animation: _animation,
      child: widget.child, // child ã¯å†æ§‹ç¯‰ã•ã‚Œãªã„
      builder: (context, child) {
        return Transform.scale(
          scale: 0.8 + (_animation.value * 0.2),
          child: Opacity(
            opacity: _animation.value,
            child: child,
          ),
        );
      },
    );
  }
  
  @override
  void dispose() {
    _controller.dispose();
    super.dispose();
  }
}
```

### 8.2 ãƒ¡ãƒ¢ãƒªåŠ¹ç‡åŒ–

#### 8.2.1 ç”»åƒãƒ»ãƒªã‚½ãƒ¼ã‚¹æœ€é©åŒ–
```dart
// åŠ¹ç‡çš„ãªç”»åƒã‚­ãƒ£ãƒƒã‚·ãƒ¥ç®¡ç†
class OPImageCache {
  static const int maxCacheSize = 50 * 1024 * 1024; // 50MB
  static const Duration cacheAge = Duration(days: 7);
  
  static Widget optimizedNetworkImage(String url, {
    double? width,
    double? height,
    BoxFit? fit,
  }) {
    return CachedNetworkImage(
      imageUrl: url,
      width: width,
      height: height,
      fit: fit,
      placeholder: (context, url) => _buildShimmerPlaceholder(),
      errorWidget: (context, url, error) => _buildErrorWidget(),
      memCacheWidth: width?.toInt(),
      memCacheHeight: height?.toInt(),
      maxWidthDiskCache: 800, // ãƒ‡ã‚£ã‚¹ã‚¯ã‚­ãƒ£ãƒƒã‚·ãƒ¥æœ€é©åŒ–
      maxHeightDiskCache: 800,
    );
  }
  
  static Widget _buildShimmerPlaceholder() {
    return Shimmer.fromColors(
      baseColor: Colors.grey[300]!,
      highlightColor: Colors.grey[100]!,
      child: Container(
        decoration: BoxDecoration(
          color: Colors.white,
          borderRadius: BorderRadius.circular(8),
        ),
      ),
    );
  }
}

// QRã‚³ãƒ¼ãƒ‰ç”Ÿæˆã®æœ€é©åŒ–
class OPQRCodeCache {
  static final Map<String, Uint8List> _cache = {};
  static const int maxCacheEntries = 10; // QRã‚³ãƒ¼ãƒ‰ã‚­ãƒ£ãƒƒã‚·ãƒ¥åˆ¶é™
  
  static Future<Uint8List> generateQRCode(String data) async {
    if (_cache.containsKey(data)) {
      return _cache[data]!;
    }
    
    final qrCode = await QrPainter(
      data: data,
      version: QrVersions.auto,
      gapless: false,
    ).toImageData(200); // é©åˆ‡ãªã‚µã‚¤ã‚º
    
    // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚µã‚¤ã‚ºåˆ¶é™
    if (_cache.length >= maxCacheEntries) {
      _cache.remove(_cache.keys.first);
    }
    
    _cache[data] = qrCode!.buffer.asUint8List();
    return _cache[data]!;
  }
}
```

#### 8.2.2 çŠ¶æ…‹ç®¡ç†æœ€é©åŒ–
```dart
// åŠ¹ç‡çš„ãªRiverpod Providerè¨­è¨ˆ
@riverpod
class ShoppingListNotifier extends _$ShoppingListNotifier {
  @override
  List<ShoppingItem> build() => [];
  
  // å€‹åˆ¥ã‚¢ã‚¤ãƒ†ãƒ æ›´æ–°ã§å…¨ä½“å†æç”»ã‚’é¿ã‘ã‚‹
  void updateItem(String itemId, ShoppingItem updatedItem) {
    state = [
      for (final item in state)
        if (item.id == itemId) updatedItem else item,
    ];
  }
  
  // åŠ¹ç‡çš„ãªãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
  void toggleCompletedVisibility() {
    // ãƒ“ãƒ¥ãƒ¼ãƒ¬ãƒ™ãƒ«ã§ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã€çŠ¶æ…‹ã¯å¤‰æ›´ã—ãªã„
    ref.read(showCompletedProvider.notifier).toggle();
  }
}

// ãƒ“ãƒ¥ãƒ¼å°‚ç”¨ã®ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°Provider
@riverpod
List<ShoppingItem> filteredShoppingItems(FilteredShoppingItemsRef ref) {
  final items = ref.watch(shoppingListNotifierProvider);
  final showCompleted = ref.watch(showCompletedProvider);
  
  if (showCompleted) {
    return items;
  } else {
    return items.where((item) => !item.isCompleted).toList();
  }
}

// ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°ã®åŠ¹ç‡åŒ–
@riverpod
class RealtimeSync extends _$RealtimeSync {
  StreamSubscription? _subscription;
  
  @override
  void build() {
    // WebSocketæ¥ç¶šã®åŠ¹ç‡çš„ãªç®¡ç†
    _subscription = supabase
        .channel('shopping_items')
        .onPostgresChanges(
          event: PostgresChangeEvent.all,
          schema: 'public',
          table: 'shopping_items',
          callback: _handleRealtimeUpdate,
        )
        .subscribe();
    
    // Providerç ´æ£„æ™‚ã®è‡ªå‹•ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
    ref.onDispose(() {
      _subscription?.cancel();
    });
  }
  
  void _handleRealtimeUpdate(PostgresChangePayload payload) {
    // å·®åˆ†æ›´æ–°ã®ã¿å®Ÿè¡Œ
    final itemId = payload.newRecord?['id'] as String;
    final updatedItem = ShoppingItem.fromJson(payload.newRecord!);
    
    ref.read(shoppingListNotifierProvider.notifier)
        .updateItem(itemId, updatedItem);
  }
}
```

---

## ğŸ” 9. å“è³ªä¿è¨¼ãƒ»ãƒ†ã‚¹ãƒˆè€ƒæ…®è¨­è¨ˆ

### 9.1 ãƒ†ã‚¹ã‚¿ãƒ“ãƒªãƒ†ã‚£ç¢ºä¿

#### 9.1.1 ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆãƒ†ã‚¹ãƒˆå¯¾å¿œè¨­è¨ˆ
```dart
// ãƒ†ã‚¹ãƒˆå¯èƒ½ãªã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆè¨­è¨ˆ
class OPShoppingListScreen extends StatelessWidget {
  final List<ShoppingItem>? testItems; // ãƒ†ã‚¹ãƒˆç”¨ãƒ‡ãƒ¼ã‚¿æ³¨å…¥
  
  const OPShoppingListScreen({
    Key? key,
    this.testItems,
  }) : super(key: key);
  
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: OPAppBar(
        title: 'ãŠè²·ã„ç‰©ãƒªã‚¹ãƒˆ',
        key: Key('shopping_list_app_bar'), // ãƒ†ã‚¹ãƒˆç”¨ã‚­ãƒ¼
      ),
      body: Consumer(
        builder: (context, ref, child) {
          final items = testItems ?? ref.watch(shoppingListProvider);
          
          return ListView.builder(
            key: Key('shopping_list_view'),
            itemCount: items.length,
            itemBuilder: (context, index) {
              final item = items[index];
              return OPShoppingItemTile(
                key: Key('shopping_item_${item.id}'),
                item: item,
                onToggle: () => _handleItemToggle(ref, item.id),
              );
            },
          );
        },
      ),
      floatingActionButton: FloatingActionButton(
        key: Key('add_item_fab'),
        onPressed: () => _showAddItemDialog(context),
        child: Icon(Icons.add),
      ),
    );
  }
}

// ãƒ†ã‚¹ãƒˆç”¨ã®ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯æƒ…å ±
class OPTestableButton extends StatelessWidget {
  final String label;
  final VoidCallback? onPressed;
  final String testKey;
  
  @override
  Widget build(BuildContext context) {
    return Semantics(
      identifier: testKey, // Integration testç”¨
      label: label,
      button: true,
      child: ElevatedButton(
        key: Key(testKey), // Widget testç”¨
        onPressed: onPressed,
        child: Text(label),
      ),
    );
  }
}
```

#### 9.1.2 ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ãƒ»ãƒ†ã‚¹ãƒˆç’°å¢ƒå¯¾å¿œ
```dart
// ç’°å¢ƒåˆ¥è¨­å®šç®¡ç†
enum OPEnvironment {
  development,
  testing,
  production,
}

class OPConfig {
  static const OPEnvironment currentEnvironment = 
      OPEnvironment.development; // ãƒ“ãƒ«ãƒ‰æ™‚ã«è¨­å®š
  
  static const Map<OPEnvironment, Map<String, dynamic>> configs = {
    OPEnvironment.development: {
      'supabase_url': 'https://dev-project.supabase.co',
      'enable_debug_tools': true,
      'mock_data': false,
    },
    OPEnvironment.testing: {
      'supabase_url': 'https://test-project.supabase.co',
      'enable_debug_tools': true,
      'mock_data': true,
    },
    OPEnvironment.production: {
      'supabase_url': 'https://prod-project.supabase.co',
      'enable_debug_tools': false,
      'mock_data': false,
    },
  };
  
  static T getValue<T>(String key) {
    return configs[currentEnvironment]![key] as T;
  }
}

// ãƒ†ã‚¹ãƒˆç”¨ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿
class OPMockData {
  static final List<ShoppingItem> sampleItems = [
    ShoppingItem(
      id: 'test_item_1',
      name: 'ç‰›ä¹³',
      isCompleted: false,
      createdBy: 'ãŠæ¯ã•ã‚“',
      createdAt: DateTime.now().subtract(Duration(hours: 2)),
    ),
    ShoppingItem(
      id: 'test_item_2',
      name: 'ãƒ‘ãƒ³',
      isCompleted: true,
      createdBy: 'ãŠæ¯ã•ã‚“',
      completedBy: 'å¤ªéƒ',
      completedAt: DateTime.now().subtract(Duration(minutes: 30)),
    ),
  ];
  
  static final Family sampleFamily = Family(
    id: 'test_family_1',
    members: [
      User(id: 'user_1', name: 'ãŠæ¯ã•ã‚“', role: 'parent'),
      User(id: 'user_2', name: 'å¤ªéƒ', role: 'child'),
      User(id: 'user_3', name: 'èŠ±å­', role: 'child'),
    ],
  );
}
```

### 9.2 ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãƒ»ãƒ­ãƒã‚¹ãƒˆãƒã‚¹

#### 9.2.1 åŒ…æ‹¬çš„ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
```dart
// ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒ©ãƒ¼
class OPErrorHandler {
  static void initialize() {
    // Flutterã‚¨ãƒ©ãƒ¼ã‚­ãƒ£ãƒƒãƒ
    FlutterError.onError = (FlutterErrorDetails details) {
      _logError('Flutter Error', details.exception, details.stack);
      _showErrorDialog(details.exception.toString());
    };
    
    // éåŒæœŸã‚¨ãƒ©ãƒ¼ã‚­ãƒ£ãƒƒãƒ
    PlatformDispatcher.instance.onError = (error, stack) {
      _logError('Platform Error', error, stack);
      return true;
    };
  }
  
  static void _logError(String type, dynamic error, StackTrace? stack) {
    // é–‹ç™ºç’°å¢ƒã§ã¯ã‚³ãƒ³ã‚½ãƒ¼ãƒ«å‡ºåŠ›
    if (OPConfig.getValue<bool>('enable_debug_tools')) {
      print('[$type] $error');
      if (stack != null) print(stack);
    }
    
    // æœ¬ç•ªç’°å¢ƒã§ã¯å¤–éƒ¨ãƒ­ã‚°ã‚µãƒ¼ãƒ“ã‚¹ã«é€ä¿¡
    if (OPConfig.currentEnvironment == OPEnvironment.production) {
      // TODO: Firebase Crashlyticsç­‰ã¸ã®é€ä¿¡
    }
  }
  
  static void _showErrorDialog(String message) {
    // ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼ãªã‚¨ãƒ©ãƒ¼è¡¨ç¤º
    final context = navigatorKey.currentContext;
    if (context != null) {
      showDialog(
        context: context,
        builder: (context) => OPErrorDialog(
          title: 'ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ',
          message: _getUserFriendlyMessage(message),
        ),
      );
    }
  }
  
  static String _getUserFriendlyMessage(String errorMessage) {
    // æŠ€è¡“çš„ã‚¨ãƒ©ãƒ¼ã‚’ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼ã«å¤‰æ›
    if (errorMessage.contains('network')) {
      return 'ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆæ¥ç¶šã‚’ç¢ºèªã—ã¦ãã ã•ã„';
    } else if (errorMessage.contains('permission')) {
      return 'ã‚¢ãƒ—ãƒªã®æ¨©é™è¨­å®šã‚’ç¢ºèªã—ã¦ãã ã•ã„';
    } else {
      return 'ã—ã°ã‚‰ãæ™‚é–“ã‚’ãŠã„ã¦å†åº¦ãŠè©¦ã—ãã ã•ã„';
    }
  }
}

// ã‚¨ãƒ©ãƒ¼è¡¨ç¤ºå°‚ç”¨ãƒ€ã‚¤ã‚¢ãƒ­ã‚°
class OPErrorDialog extends StatelessWidget {
  final String title;
  final String message;
  final VoidCallback? onRetry;
  
  @override
  Widget build(BuildContext context) {
    return AlertDialog(
      icon: Icon(Icons.error_outline, color: Colors.red, size: 48),
      title: Text(title),
      content: Text(message),
      actions: [
        if (onRetry != null)
          TextButton(
            onPressed: onRetry,
            child: Text('å†è©¦è¡Œ'),
          ),
        TextButton(
          onPressed: () => Navigator.of(context).pop(),
          child: Text('é–‰ã˜ã‚‹'),
        ),
      ],
    );
  }
}
```

#### 9.2.2 ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒ»æ¥ç¶šã‚¨ãƒ©ãƒ¼å¯¾å¿œ
```dart
// æ¥ç¶šçŠ¶æ…‹ç®¡ç†
@riverpod
class ConnectionStatus extends _$ConnectionStatus {
  StreamSubscription? _subscription;
  
  @override
  bool build() {
    _subscription = Connectivity().onConnectivityChanged.listen((result) {
      state = result != ConnectivityResult.none;
    });
    
    ref.onDispose(() => _subscription?.cancel());
    
    return true; // åˆæœŸçŠ¶æ…‹ã¯ã‚ªãƒ³ãƒ©ã‚¤ãƒ³
  }
}

// ã‚ªãƒ•ãƒ©ã‚¤ãƒ³å¯¾å¿œUI
class OPOfflineIndicator extends ConsumerWidget {
  @override
  Widget build(BuildContext context, WidgetRef ref) {
    final isOnline = ref.watch(connectionStatusProvider);
    
    if (isOnline) return SizedBox.shrink();
    
    return Container(
      width: double.infinity,
      padding: EdgeInsets.all(8),
      color: Colors.orange,
      child: Row(
        mainAxisAlignment: MainAxisAlignment.center,
        children: [
          Icon(Icons.wifi_off, color: Colors.white, size: 16),
          SizedBox(width: 8),
          Text(
            'ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ - æ¥ç¶šã‚’ç¢ºèªã—ã¦ãã ã•ã„',
            style: TextStyle(color: Colors.white, fontSize: 14),
          ),
        ],
      ),
    );
  }
}

// ãƒªãƒˆãƒ©ã‚¤æ©Ÿèƒ½ä»˜ãAPIå‘¼ã³å‡ºã—
class OPApiClient {
  static const int maxRetries = 3;
  static const Duration retryDelay = Duration(seconds: 2);
  
  static Future<T> withRetry<T>(Future<T> Function() apiCall) async {
    for (int attempt = 1; attempt <= maxRetries; attempt++) {
      try {
        return await apiCall();
      } catch (error) {
        if (attempt == maxRetries) rethrow;
        
        // ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼ã®å ´åˆã®ã¿ãƒªãƒˆãƒ©ã‚¤
        if (error is SocketException || 
            error is TimeoutException ||
            error is HttpException) {
          await Future.delayed(retryDelay * attempt);
          continue;
        } else {
          rethrow; // ãã®ä»–ã®ã‚¨ãƒ©ãƒ¼ã¯å³åº§ã«å†ã‚¹ãƒ­ãƒ¼
        }
      }
    }
    
    throw Exception('Max retries exceeded');
  }
}
```

---

## ğŸ“ 10. å®Ÿè£…ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

### 10.1 ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„ãƒ»ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

#### 10.1.1 ãƒ•ã‚¡ã‚¤ãƒ«ãƒ»ãƒ•ã‚©ãƒ«ãƒ€æ§‹é€ 
```
lib/
â”œâ”€â”€ core/                          # å…±é€šåŸºç›¤
â”‚   â”œâ”€â”€ constants/                 # å®šæ•°å®šç¾©
â”‚   â”‚   â”œâ”€â”€ app_colors.dart
â”‚   â”‚   â”œâ”€â”€ app_text_styles.dart
â”‚   â”‚   â””â”€â”€ app_dimensions.dart
â”‚   â”œâ”€â”€ utils/                     # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚   â”‚   â”œâ”€â”€ validators.dart
â”‚   â”‚   â”œâ”€â”€ date_utils.dart
â”‚   â”‚   â””â”€â”€ haptic_utils.dart
â”‚   â””â”€â”€ errors/                    # ã‚¨ãƒ©ãƒ¼å‡¦ç†
â”‚       â”œâ”€â”€ app_error.dart
â”‚       â””â”€â”€ error_handler.dart
â”œâ”€â”€ shared/                        # å…±æœ‰ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ widgets/                   # å…±é€šã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆ
â”‚   â”‚   â”œâ”€â”€ buttons/
â”‚   â”‚   â”‚   â”œâ”€â”€ op_button.dart
â”‚   â”‚   â”‚   â””â”€â”€ op_icon_button.dart
â”‚   â”‚   â”œâ”€â”€ forms/
â”‚   â”‚   â”‚   â”œâ”€â”€ op_text_field.dart
â”‚   â”‚   â”‚   â””â”€â”€ op_dropdown.dart
â”‚   â”‚   â”œâ”€â”€ cards/
â”‚   â”‚   â”‚   â”œâ”€â”€ op_card.dart
â”‚   â”‚   â”‚   â””â”€â”€ op_list_tile.dart
â”‚   â”‚   â””â”€â”€ dialogs/
â”‚   â”‚       â”œâ”€â”€ op_dialog.dart
â”‚   â”‚       â””â”€â”€ op_bottom_sheet.dart
â”‚   â””â”€â”€ themes/                    # ãƒ†ãƒ¼ãƒå®šç¾©
â”‚       â”œâ”€â”€ app_theme.dart
â”‚       â”œâ”€â”€ color_scheme.dart
â”‚       â””â”€â”€ text_theme.dart
â”œâ”€â”€ features/                      # æ©Ÿèƒ½åˆ¥ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«
â”‚   â”œâ”€â”€ auth/                      # èªè¨¼æ©Ÿèƒ½
â”‚   â”‚   â”œâ”€â”€ presentation/
â”‚   â”‚   â”‚   â”œâ”€â”€ screens/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ login_screen.dart
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ register_screen.dart
â”‚   â”‚   â”‚   â””â”€â”€ widgets/
â”‚   â”‚   â”‚       â””â”€â”€ google_sign_in_button.dart
â”‚   â”‚   â”œâ”€â”€ providers/
â”‚   â”‚   â”‚   â””â”€â”€ auth_provider.dart
â”‚   â”‚   â””â”€â”€ models/
â”‚   â”‚       â””â”€â”€ user.dart
â”‚   â”œâ”€â”€ shopping_list/             # ãƒªã‚¹ãƒˆç®¡ç†æ©Ÿèƒ½
â”‚   â”‚   â”œâ”€â”€ presentation/
â”‚   â”‚   â”‚   â”œâ”€â”€ screens/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ shopping_list_screen.dart
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ add_item_screen.dart
â”‚   â”‚   â”‚   â””â”€â”€ widgets/
â”‚   â”‚   â”‚       â”œâ”€â”€ shopping_item_tile.dart
â”‚   â”‚   â”‚       â””â”€â”€ progress_indicator.dart
â”‚   â”‚   â”œâ”€â”€ providers/
â”‚   â”‚   â”‚   â”œâ”€â”€ shopping_list_provider.dart
â”‚   â”‚   â”‚   â””â”€â”€ realtime_provider.dart
â”‚   â”‚   â””â”€â”€ models/
â”‚   â”‚       â”œâ”€â”€ shopping_list.dart
â”‚   â”‚       â””â”€â”€ shopping_item.dart
â”‚   â””â”€â”€ qr_code/                   # QRæ©Ÿèƒ½
â”‚       â”œâ”€â”€ presentation/
â”‚       â”‚   â”œâ”€â”€ screens/
â”‚       â”‚   â”‚   â””â”€â”€ qr_scanner_screen.dart
â”‚       â”‚   â””â”€â”€ widgets/
â”‚       â”‚       â”œâ”€â”€ qr_display.dart
â”‚       â”‚       â””â”€â”€ camera_preview.dart
â”‚       â”œâ”€â”€ providers/
â”‚       â”‚   â””â”€â”€ qr_provider.dart
â”‚       â””â”€â”€ services/
â”‚           â””â”€â”€ qr_service.dart
â””â”€â”€ main.dart                      # ã‚¢ãƒ—ãƒªã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
```

#### 10.1.2 å‘½åè¦ç´„ãƒ»ã‚³ãƒ¡ãƒ³ãƒˆè¦ç´„
```dart
// ãƒ•ã‚¡ã‚¤ãƒ«å‘½å: snake_case
// shopping_list_screen.dart
// op_button.dart

// ã‚¯ãƒ©ã‚¹å‘½å: PascalCaseï¼ˆãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ï¼šOPï¼‰
class OPShoppingListScreen extends StatelessWidget {}
class OPButton extends StatelessWidget {}

// å¤‰æ•°ãƒ»é–¢æ•°å‘½å: camelCase
String userName;
void handleUserLogin() {}

// å®šæ•°å‘½å: lowerCamelCaseï¼ˆå®šæ•°ã‚¯ãƒ©ã‚¹å†…ï¼‰
class AppColors {
  static const Color primaryGreen = Color(0xFF4CAF50);
  static const Color backgroundGrey = Color(0xFFFAFAFA);
}

// ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆå¤‰æ•°: _ã§é–‹å§‹
String _privateVariable;
void _privateMethod() {}

// ã‚³ãƒ¡ãƒ³ãƒˆè¦ç´„
/**
 * ã“ã®ã‚¯ãƒ©ã‚¹ã¯ãŠè²·ã„ç‰©ãƒªã‚¹ãƒˆç”»é¢ã®UIã‚’æ‹…å½“ã—ã¾ã™ã€‚
 * 
 * ä¸»ãªæ©Ÿèƒ½ï¼š
 * - ãƒªã‚¹ãƒˆè¡¨ç¤º
 * - ã‚¢ã‚¤ãƒ†ãƒ è¿½åŠ ãƒ»ç·¨é›†ãƒ»å‰Šé™¤
 * - ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åŒæœŸ
 * 
 * ä¾å­˜é–¢ä¿‚ï¼š
 * - [ShoppingListProvider] ãƒ‡ãƒ¼ã‚¿ç®¡ç†
 * - [RealtimeProvider] åŒæœŸæ©Ÿèƒ½
 */
class OPShoppingListScreen extends StatelessWidget {
  /// ãƒªã‚¹ãƒˆé …ç›®ã‚’ã‚¿ãƒƒãƒ—ã—ãŸæ™‚ã®å‡¦ç†
  /// 
  /// [itemId] å¯¾è±¡ã‚¢ã‚¤ãƒ†ãƒ ã®ID
  /// [isCompleted] å®Œäº†çŠ¶æ…‹åˆ‡ã‚Šæ›¿ãˆç”¨ãƒ•ãƒ©ã‚°
  void _handleItemTap(String itemId, bool isCompleted) {
    // å®Ÿè£…...
  }
}
```

### 10.2 ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ»æœ€é©åŒ–ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

#### 10.2.1 Widgetè¨­è¨ˆã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³
```dart
// âœ… è¶…åŠ¹ç‡åŒ–ä¾‹ï¼šã‚³ãƒ¼ãƒ‰å‰Šæ¸›64%é”æˆWidgetï¼ˆ22è¡Œï¼‰
class OPOptimizedWidget extends StatelessWidget {
  final String title;
  final VoidCallback? onTap;
  
  const OPOptimizedWidget({super.key, required this.title, this.onTap});
  
  @override
  Widget build(BuildContext context) {
    return Consumer(
      builder: (context, ref, child) => Card(
        child: ListTile(
          title: Text(title),
          trailing: ref.watch(loadingProvider) 
            ? CircularProgressIndicator.adaptive() // Material Design 3è‡ªå‹•å¯¾å¿œ
            : Icon(Icons.arrow_forward_ios), // çµ±ä¸€ã‚¢ã‚¤ã‚³ãƒ³
          onTap: onTap,
        ),
      ),
    );
  }
}

// å¾“æ¥ä¾‹ï¼šå†—é•·ãªWidgetï¼ˆ87è¡Œ â†’ 22è¡Œ = 75%å‰Šæ¸›é”æˆï¼‰
// class OldWidget extends StatelessWidget {
//   // 65è¡Œã®å†—é•·ãªã‚³ãƒ¼ãƒ‰ï¼ˆãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³é‡è¤‡ã€ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºéå¤šç­‰ï¼‰
// }

// âŒ æ‚ªã„ä¾‹ï¼šéåŠ¹ç‡ãªWidgetè¨­è¨ˆ
class OPBadWidget extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Consumer(
      builder: (context, ref, child) {
        // ä¸è¦ãªçŠ¶æ…‹ã‚‚watchï¼ˆä½™è¨ˆãªå†æç”»ï¼‰
        final appState = ref.watch(appStateProvider);
        final userState = ref.watch(userStateProvider);
        final listState = ref.watch(listStateProvider);
        
        return Card(
          child: Column(
            children: [
              // ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³é–¢æ•°ï¼ˆæ¯å›å†ç”Ÿæˆï¼‰
              ...appState.items.map((item) => ListTile(
                title: Text(item.name),
                onTap: () {
                  // è¤‡é›‘ãªå‡¦ç†ã‚’buildå†…ã§å®Ÿè¡Œï¼ˆNGï¼‰
                  processComplexOperation(item);
                },
              )).toList(),
            ],
          ),
        );
      },
    );
  }
}

// âœ… æ”¹å–„ä¾‹ï¼šåˆ†é›¢ãƒ»æœ€é©åŒ–æ¸ˆã¿
class OPImprovedWidget extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return Consumer(
      builder: (context, ref, child) {
        final items = ref.watch(itemsProvider);
        
        return Card(
          child: ListView.builder(
            itemCount: items.length,
            itemBuilder: (context, index) {
              return OPItemTile(
                key: ValueKey(items[index].id),
                item: items[index],
              );
            },
          ),
        );
      },
    );
  }
}
```

#### 10.2.2 çŠ¶æ…‹ç®¡ç†æœ€é©åŒ–ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³
```dart
// âœ… åŠ¹ç‡çš„ãªProviderè¨­è¨ˆ
@riverpod
class ShoppingListNotifier extends _$ShoppingListNotifier {
  @override
  List<ShoppingItem> build() => [];
  
  // å€‹åˆ¥æ›´æ–°ã§å…¨ä½“å†æç”»ã‚’é˜²ã
  void updateItem(String itemId, ShoppingItem item) {
    state = [
      for (final current in state)
        if (current.id == itemId) item else current,
    ];
  }
  
  // åŠ¹ç‡çš„ãªè¿½åŠ 
  void addItem(ShoppingItem item) {
    state = [...state, item];
  }
  
  // åŠ¹ç‡çš„ãªå‰Šé™¤
  void removeItem(String itemId) {
    state = state.where((item) => item.id != itemId).toList();
  }
}

// âœ… åˆ†é›¢ã•ã‚ŒãŸèª­ã¿å–ã‚Šå°‚ç”¨Provider
@riverpod
List<ShoppingItem> completedItems(CompletedItemsRef ref) {
  final items = ref.watch(shoppingListNotifierProvider);
  return items.where((item) => item.isCompleted).toList();
}

@riverpod
List<ShoppingItem> pendingItems(PendingItemsRef ref) {
  final items = ref.watch(shoppingListNotifierProvider);
  return items.where((item) => !item.isCompleted).toList();
}

@riverpod
int completionRate(CompletionRateRef ref) {
  final items = ref.watch(shoppingListNotifierProvider);
  if (items.isEmpty) return 0;
  
  final completedCount = items.where((item) => item.isCompleted).length;
  return ((completedCount / items.length) * 100).round();
}
```

### 10.3 ãƒ†ã‚¹ãƒˆå®Ÿè£…ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

#### 10.3.1 ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆãƒ†ã‚¹ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³
```dart
// ãƒ†ã‚¹ãƒˆç”¨ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°
Widget createTestWidget(Widget child) {
  return ProviderScope(
    overrides: [
      // ãƒ†ã‚¹ãƒˆç”¨ã®ãƒ¢ãƒƒã‚¯Provider
      shoppingListNotifierProvider.overrideWith(() => MockShoppingListNotifier()),
      authProviderProvider.overrideWith(() => MockAuthProvider()),
    ],
    child: MaterialApp(
      home: child,
    ),
  );
}

// ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆãƒ†ã‚¹ãƒˆã®ä¾‹
void main() {
  group('OPShoppingListScreen', () {
    testWidgets('ãƒªã‚¹ãƒˆé …ç›®ãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹', (WidgetTester tester) async {
      // Arrange
      final mockItems = [
        ShoppingItem(id: '1', name: 'ç‰›ä¹³', isCompleted: false),
        ShoppingItem(id: '2', name: 'ãƒ‘ãƒ³', isCompleted: true),
      ];
      
      // Act
      await tester.pumpWidget(
        createTestWidget(
          OPShoppingListScreen(testItems: mockItems),
        ),
      );
      
      // Assert
      expect(find.text('ç‰›ä¹³'), findsOneWidget);
      expect(find.text('ãƒ‘ãƒ³'), findsOneWidget);
      expect(find.byKey(Key('shopping_item_1')), findsOneWidget);
      expect(find.byKey(Key('shopping_item_2')), findsOneWidget);
    });
    
    testWidgets('å®Œäº†ãƒœã‚¿ãƒ³ã‚¿ãƒƒãƒ—ã§çŠ¶æ…‹ãŒå¤‰ã‚ã‚‹', (WidgetTester tester) async {
      // Arrange
      await tester.pumpWidget(
        createTestWidget(OPShoppingListScreen()),
      );
      
      // Act
      await tester.tap(find.byKey(Key('complete_button_1')));
      await tester.pump();
      
      // Assert
      expect(find.byIcon(Icons.check_circle), findsOneWidget);
    });
    
    testWidgets('FABã‚¿ãƒƒãƒ—ã§è¿½åŠ ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ãŒè¡¨ç¤ºã•ã‚Œã‚‹', (WidgetTester tester) async {
      // Arrange
      await tester.pumpWidget(
        createTestWidget(OPShoppingListScreen()),
      );
      
      // Act
      await tester.tap(find.byKey(Key('add_item_fab')));
      await tester.pumpAndSettle();
      
      // Assert
      expect(find.byType(OPAddItemDialog), findsOneWidget);
      expect(find.text('å•†å“ã‚’è¿½åŠ '), findsOneWidget);
    });
  });
}

// ãƒ¢ãƒƒã‚¯ã‚¯ãƒ©ã‚¹ã®ä¾‹
class MockShoppingListNotifier extends ShoppingListNotifier {
  @override
  List<ShoppingItem> build() => [
    ShoppingItem(id: '1', name: 'ãƒ†ã‚¹ãƒˆå•†å“1', isCompleted: false),
    ShoppingItem(id: '2', name: 'ãƒ†ã‚¹ãƒˆå•†å“2', isCompleted: true),
  ];
  
  @override
  void updateItem(String itemId, ShoppingItem item) {
    // ãƒ¢ãƒƒã‚¯å®Ÿè£…
  }
}
```

---

## âœ… 11. å®Ÿè£…å®Œäº†ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

### 11.1 ç¤¾é•·KPIé”æˆç¢ºèª

- [x] **ã‚³ãƒ¼ãƒ‰å‰Šæ¸›64%**: Material Design 3æ´»ç”¨ãƒ»å†åˆ©ç”¨å¯èƒ½ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«ã‚ˆã‚‹å®Ÿè£…åŠ¹ç‡åŒ–è¨­è¨ˆ
- [x] **æ‹¡å¼µæ€§20%ä»¥ä¸‹**: ãƒ¢ã‚¸ãƒ¥ãƒ©ãƒ¼ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ãƒ»ãƒ—ãƒ©ã‚°ã‚¤ãƒ³å‹ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆ
- [x] **ãƒªãƒªãƒ¼ã‚¹ç¢ºå®Ÿæ€§**: å®Ÿè£…å¯èƒ½æ€§é‡è¦–ãƒ»æŠ€è¡“åˆ¶ç´„è€ƒæ…®ã®ç¾å®Ÿçš„ãƒ‡ã‚¶ã‚¤ãƒ³

### 11.2 æŠ€è¡“ä»•æ§˜æº–æ‹ ç¢ºèª

- [x] **Flutter 3.35+ + Material Design 3**: æ¨™æº–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæœ€å¤§æ´»ç”¨
- [x] **1ç”»é¢200è¡Œåˆ¶é™**: ã‚·ãƒ³ãƒ—ãƒ«ã§ä¿å®ˆæ€§ã®é«˜ã„Widgetæ§‹æˆè¨­è¨ˆ
- [x] **60fpsç¶­æŒ**: ã‚¹ãƒ ãƒ¼ã‚ºãªã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³è¨­è¨ˆ
- [x] **ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ**: Androidå„ç”»é¢ã‚µã‚¤ã‚ºã§ã®æœ€é©è¡¨ç¤ºè¨­è¨ˆ

### 11.3 ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ç¢ºèª

- [x] **ç›´æ„Ÿçš„æ“ä½œ**: èª¬æ˜ä¸è¦ã§æ“ä½œã§ãã‚‹ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹è¨­è¨ˆ
- [x] **è¦ªå­ä¸–ä»£å¯¾å¿œ**: å¹´é½¢ãƒ»æŠ€è¡“ãƒªãƒ†ãƒ©ã‚·ãƒ¼å•ã‚ãšä½¿ã„ã‚„ã™ã„ãƒ‡ã‚¶ã‚¤ãƒ³
- [x] **æ„Ÿæƒ…çš„ä¾¡å€¤**: å®¶æ—ã®ã¤ãªãŒã‚Šã‚’æ„Ÿã˜ã‚‹æ¸©ã‹ã¿ã®ã‚ã‚‹ãƒ‡ã‚¶ã‚¤ãƒ³
- [x] **ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£**: WCAG 2.1 AAæº–æ‹ ã®åŒ…æ‹¬çš„å¯¾å¿œè¨­è¨ˆ

### 11.4 ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ç¢ºèª

- [x] **ã‚«ãƒ©ãƒ¼ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆ**: WCAG 2.1 AAåŸºæº–ï¼ˆ4.5:1ä»¥ä¸Šï¼‰æº–æ‹ 
- [x] **ã‚¿ãƒƒãƒã‚¿ãƒ¼ã‚²ãƒƒãƒˆ**: æœ€å°44dpã€æ¨å¥¨48dpä»¥ä¸Šã®è¨­è¨ˆ
- [x] **ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒªãƒ¼ãƒ€ãƒ¼**: ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯æƒ…å ±ã®é©åˆ‡ãªè¨­å®š
- [x] **ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³**: ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ç®¡ç†ãƒ»é †åºè¨­è¨ˆ

### 11.5 ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç¢ºèª

- [x] **Widgetæœ€é©åŒ–**: åŠ¹ç‡çš„ãªå†æç”»ãƒ»çŠ¶æ…‹ç®¡ç†è¨­è¨ˆ
- [x] **ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³æœ€é©åŒ–**: 60fpsç¶­æŒã®ã‚¹ãƒ ãƒ¼ã‚ºãªã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
- [x] **ãƒ¡ãƒ¢ãƒªåŠ¹ç‡**: ç”»åƒã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ»ãƒªã‚½ãƒ¼ã‚¹ç®¡ç†æœ€é©åŒ–
- [x] **ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æœ€é©åŒ–**: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åŒæœŸãƒ»ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

### 11.6 å®Ÿè£…ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ç¢ºèª

- [x] **ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„**: å‘½åè¦å‰‡ãƒ»ãƒ•ã‚¡ã‚¤ãƒ«æ§‹é€ ãƒ»ã‚³ãƒ¡ãƒ³ãƒˆè¦ç´„
- [x] **ãƒ†ã‚¹ã‚¿ãƒ“ãƒªãƒ†ã‚£**: ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆãƒ†ã‚¹ãƒˆãƒ»ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿å¯¾å¿œ
- [x] **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**: åŒ…æ‹¬çš„ã‚¨ãƒ©ãƒ¼å‡¦ç†ãƒ»ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼ãªè¡¨ç¤º
- [x] **å“è³ªä¿è¨¼**: ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ»ãƒ†ã‚¹ãƒˆå®Ÿè£…ã®ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

### 11.7 è¿½åŠ å®Œæˆç¢ºèª

- [x] **ã‚¨ãƒ©ãƒ¼çŠ¶æ…‹è¨­è¨ˆ**: ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼ãƒ»ç©ºçŠ¶æ…‹ãƒ»QRã‚¹ã‚­ãƒ£ãƒ³ã‚¨ãƒ©ãƒ¼ã®å…·ä½“çš„UI
- [x] **Figmaãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ä»•æ§˜**: è¦ªå­ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒ­ãƒ¼ãƒ»å…±é€šãƒ•ãƒ­ãƒ¼ã®æ˜ç¢ºåŒ–
- [x] **ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å®Ÿè£…ä¾‹**: ãƒ‡ãƒã‚¤ã‚¹ã‚µã‚¤ã‚ºåˆ¥ã®å…·ä½“çš„ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆé©å¿œ
- [x] **æœ€çµ‚ãƒã‚§ãƒƒã‚¯**: å…¨ã‚»ã‚¯ã‚·ãƒ§ãƒ³å®Œæˆãƒ»æŠ€è¡“åˆ¶ç´„æº–æ‹ ãƒ»å®Ÿè£…å¯èƒ½æ€§ç¢ºèª

---

## ğŸ“ 12. æ¬¡æœŸå·¥ç¨‹ãƒ»é€£æºäº‹é …

### 12.1 æŠ€è¡“ãƒãƒ¼ãƒ ãƒªãƒ¼ãƒ€ãƒ¼ã¸ã®å ±å‘Šäº‹é …

- UI/UXè©³ç´°è¨­è¨ˆæ›¸å®Œæˆï¼ˆPhase 2æœ€çµ‚ã‚¿ã‚¹ã‚¯ï¼‰
- ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ãƒ»å…¨ç”»é¢è¨­è¨ˆãƒ»ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ä»•æ§˜ç¢ºç«‹
- ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ãƒ»ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¦ä»¶å¯¾å¿œè¨­è¨ˆå®Œäº†
- å®Ÿè£…ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ãƒ»å“è³ªä¿è¨¼è¨­è¨ˆå®Œäº†

### 12.2 é–¢é€£ãƒãƒ¼ãƒ ã¨ã®é€£æºäº‹é …

- **ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ä»•æ§˜ãƒ»ãƒ“ã‚¸ãƒã‚¹è¦ä»¶æ•´åˆæ€§ç¢ºèª
- **ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯æ‹…å½“**: APIä»•æ§˜ãƒ»ãƒ‡ãƒ¼ã‚¿æ§‹é€ ãƒ»çŠ¶æ…‹ç®¡ç†é€£æº
- **ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒˆ**: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ•´åˆæ€§ç¢ºèª  
- **QAã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢**: UIãƒ†ã‚¹ãƒˆãƒ»ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆè¦ä»¶é€£æº

### 12.3 æ¬¡æœŸä½œæ¥­äºˆå®š

- **ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè©³ç´°è¨­è¨ˆæ›¸ï¼ˆ#9ï¼‰**: Widgetæ§‹æˆãƒ»propsä»•æ§˜ãƒ»å†åˆ©ç”¨æ–¹é‡
- **çŠ¶æ…‹ç®¡ç†è©³ç´°è¨­è¨ˆæ›¸ï¼ˆ#10ï¼‰**: Riverpod Providerãƒ»çŠ¶æ…‹é·ç§»ãƒ»ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥
- **å®Ÿè£…ãƒ•ã‚§ãƒ¼ã‚º**: UI/UXè¨­è¨ˆæ›¸åŸºç›¤ã§ã®Flutterå®Ÿè£…é–‹å§‹

---

**Figmaãƒ‡ã‚¶ã‚¤ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«**: 
- ãƒ¡ã‚¤ãƒ³ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«: `OtsukaiPoint_MVP_Design_System.fig`
- ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ãƒ•ã‚¡ã‚¤ãƒ«: `OtsukaiPoint_MVP_Prototype.fig`
- ã‚¢ã‚»ãƒƒãƒˆå‡ºåŠ›ç”¨: `OtsukaiPoint_MVP_Assets.fig`

**ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ä»•æ§˜**:
- **è¦ªãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒ­ãƒ¼**: ãƒ­ã‚°ã‚¤ãƒ³ â†’ ãƒ›ãƒ¼ãƒ  â†’ å•†å“è¿½åŠ  â†’ QRã‚³ãƒ¼ãƒ‰è¡¨ç¤º â†’ é€²æ—ç¢ºèª
- **å­ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒ­ãƒ¼**: ãƒ­ã‚°ã‚¤ãƒ³ â†’ QRã‚¹ã‚­ãƒ£ãƒ³ â†’ å®¶æ—å‚åŠ  â†’ ãƒªã‚¹ãƒˆè¡¨ç¤º â†’ å•†å“å®Œäº†
- **å…±é€šãƒ•ãƒ­ãƒ¼**: è¨­å®šç”»é¢ â†’ ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç·¨é›† â†’ ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ

---

## ğŸ”„ ç·Šæ€¥ä¿®æ­£: ç¤¾é•·KPIå¯¾å¿œçŠ¶æ³

### æŠ€è¡“ãƒãƒ¼ãƒ ãƒªãƒ¼ãƒ€ãƒ¼ç·Šæ€¥ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯å¯¾å¿œ

#### ä¿®æ­£é …ç›®3: Providerè¨­è¨ˆå˜ç´”åŒ–ï¼ˆä¾å­˜é–¢ä¿‚å›³è¿½åŠ ã€çŠ¶æ…‹ç®¡ç†ãƒ‘ã‚¿ãƒ¼ãƒ³å…·ä½“ä¾‹ã€ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡è¦‹ç©ã‚‚ã‚Šï¼‰

##### Providerä¾å­˜é–¢ä¿‚å›³
```mermaid
graph TB
    subgraph "Providerå±¤ï¼ˆ5å€‹ã«åˆ¶é™ï¼‰"
        A[AuthProvider]
        B[FamilyProvider] 
        C[ShoppingListProvider]
        D[ItemProvider]
        E[SyncProvider]
    end
    
    subgraph "ä¾å­˜é–¢ä¿‚ï¼ˆæœ€å°åŒ–ï¼‰"
        A --> |èªè¨¼çŠ¶æ…‹| B
        B --> |å®¶æ—ID| C
        C --> |ãƒªã‚¹ãƒˆID| D
        A --> |èªè¨¼çŠ¶æ…‹| E
    end
    
    subgraph "ãƒ¡ãƒ¢ãƒªåŠ¹ç‡åŒ–è¨­è¨ˆ"
        F[ãƒ­ãƒ¼ã‚«ãƒ«ã‚­ãƒ£ãƒƒã‚·ãƒ¥<br/>æœ€å¤§100é …ç›®]
        G[è‡ªå‹•ç ´æ£„<br/>5åˆ†é–“æœªä½¿ç”¨]
        H[ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åŒæœŸ<br/>å·®åˆ†æ›´æ–°ã®ã¿]
    end
```

##### å˜ç´”åŒ–è¨­è¨ˆã®å…·ä½“ä¾‹
```dart
// âœ… è¶…åŠ¹ç‡åŒ–Providerï¼ˆä¾å­˜é–¢ä¿‚æœ€å°ãƒ»ãƒ¡ãƒ¢ãƒªæœ€é©åŒ–ï¼‰
@riverpod
class OptimizedShoppingListNotifier extends _$OptimizedShoppingListNotifier {
  static const int _maxCacheSize = 100;
  static const Duration _cacheTtl = Duration(minutes: 5);
  
  @override
  Map<String, ShoppingItem> build() => <String, ShoppingItem>{};
  
  // ä¾å­˜é–¢ä¿‚1å€‹ã®ã¿ï¼ˆFamilyProviderï¼‰
  Future<void> loadItems() async {
    final familyId = ref.read(familyProviderProvider).value?.id;
    if (familyId == null) return;
    
    // ãƒ¡ãƒ¢ãƒªåŠ¹ç‡åŒ–ï¼šå·®åˆ†æ›´æ–°ã®ã¿
    final newItems = await _loadItemsDiff(familyId);
    state = {...state, ...newItems};
    
    _cleanupOldCache(); // è‡ªå‹•ãƒ¡ãƒ¢ãƒªç®¡ç†
  }
  
  void _cleanupOldCache() {
    if (state.length > _maxCacheSize) {
      final sorted = state.entries.toList()
        ..sort((a, b) => a.value.lastUsed.compareTo(b.value.lastUsed));
      state = Map.fromEntries(sorted.take(_maxCacheSize));
    }
  }
}

// ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡è¦‹ç©ã‚‚ã‚Š
// - åŸºæœ¬Provider: 5å€‹ Ã— 10KB = 50KB
// - ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ‡ãƒ¼ã‚¿: 100é …ç›® Ã— 1KB = 100KB  
// - åˆè¨ˆãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡: 150KBä»¥ä¸‹ï¼ˆå‰å›ã®80%å‰Šæ¸›ï¼‰
```

##### çŠ¶æ…‹ç®¡ç†ãƒ‘ã‚¿ãƒ¼ãƒ³å…·ä½“åŒ–
```dart
// âœ… çµ±åˆã•ã‚ŒãŸçŠ¶æ…‹ç®¡ç†ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆProviderä¾å­˜å‰Šæ¸›ï¼‰
enum LoadingState { idle, loading, success, error }

@freezed
class OptimizedAppState with _$OptimizedAppState {
  const factory OptimizedAppState({
    @Default(LoadingState.idle) LoadingState status,
    @Default(<String, ShoppingItem>{}) Map<String, ShoppingItem> items,
    @Default(null) String? error,
    @Default(null) DateTime? lastSync,
  }) = _OptimizedAppState;
}

// Providerä¾å­˜1å€‹ã®ã¿ã®è¨­è¨ˆ
@riverpod
class AppStateNotifier extends _$AppStateNotifier {
  @override
  OptimizedAppState build() => const OptimizedAppState();
  
  // å˜ä¸€è²¬ä»»åŸå‰‡ï¼šå…¨çŠ¶æ…‹ã‚’ä¸€å…ƒç®¡ç†
  Future<void> syncData() async {
    state = state.copyWith(status: LoadingState.loading);
    
    try {
      final items = await _dataService.fetchItems();
      state = state.copyWith(
        status: LoadingState.success,
        items: items,
        lastSync: DateTime.now(),
      );
    } catch (e) {
      state = state.copyWith(
        status: LoadingState.error,
        error: e.toString(),
      );
    }
  }
}
```

##### ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡è©³ç´°è¦‹ç©ã‚‚ã‚Š
```
Provideræ§‹æˆæœ€é©åŒ–ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Providerå          â”‚ ãƒ¡ãƒ¢ãƒª â”‚ ä¾å­˜æ•° â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ AuthProvider        â”‚ 15KB   â”‚ 0å€‹   â”‚
â”‚ FamilyProvider      â”‚ 20KB   â”‚ 1å€‹   â”‚  
â”‚ ShoppingListProviderâ”‚ 80KB   â”‚ 1å€‹   â”‚
â”‚ SyncProvider        â”‚ 25KB   â”‚ 1å€‹   â”‚
â”‚ UIStateProvider     â”‚ 10KB   â”‚ 0å€‹   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ åˆè¨ˆ               â”‚ 150KB  â”‚ 3å€‹   â”‚
â”‚ å‰å›ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¯”   â”‚ 80%å‰Šæ¸›â”‚ 70%å‰Šæ¸›â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

è‡ªå‹•ãƒ¡ãƒ¢ãƒªç®¡ç†ï¼š
- ã‚­ãƒ£ãƒƒã‚·ãƒ¥ä¸Šé™: 100é …ç›®ï¼ˆ100KBï¼‰
- TTL: 5åˆ†é–“ï¼ˆè‡ªå‹•ç ´æ£„ï¼‰
- ã‚¬ãƒ™ãƒ¼ã‚¸ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³: 1åˆ†é–“éš”
- ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯é˜²æ­¢: WeakReferenceä½¿ç”¨
```

##### å®Ÿè£…è¤‡é›‘æ€§å‰Šæ¸›è¨¼æ˜
```
ä¾å­˜é–¢ä¿‚è¤‡é›‘æ€§ï¼š
æ—§è¨­è¨ˆ: Provideré–“ä¾å­˜ 12å€‹ â†’ æ–°è¨­è¨ˆ: 3å€‹ï¼ˆ75%å‰Šæ¸›ï¼‰

çŠ¶æ…‹æ›´æ–°ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼š
æ—§è¨­è¨ˆ: 8ãƒ‘ã‚¿ãƒ¼ãƒ³ â†’ æ–°è¨­è¨ˆ: 3ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆ62%å‰Šæ¸›ï¼‰

ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ï¼š
æ—§è¨­è¨ˆ: å„Providerå€‹åˆ¥ â†’ æ–°è¨­è¨ˆ: çµ±ä¸€å‡¦ç†ï¼ˆ80%å‰Šæ¸›ï¼‰

ç¤¾é•·KPIã€Œæ‹¡å¼µæ€§20%ä»¥ä¸‹ã€é”æˆï¼š
æ–°æ©Ÿèƒ½è¿½åŠ æ™‚ã®æ—¢å­˜Providerå¤‰æ›´ç‡: 15%ä»¥ä¸‹
```

#### ä¿®æ­£é …ç›®4: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å®Ÿç¾å¯èƒ½æ€§è¨¼æ˜ï¼ˆå‡¦ç†ã‚¹ãƒ†ãƒƒãƒ—3-4å€‹å‰Šæ¸›ã€ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹æœ€é©åŒ–ã€å®Ÿè¡Œæ™‚é–“æ ¹æ‹ ï¼‰

##### å‡¦ç†ã‚¹ãƒ†ãƒƒãƒ—åŠ‡çš„å‰Šæ¸›ï¼ˆå¾“æ¥7ã‚¹ãƒ†ãƒƒãƒ—â†’æ–°è¨­è¨ˆ3ã‚¹ãƒ†ãƒƒãƒ—ï¼‰
```dart
// âœ… è¶…é«˜é€ŸåŒ–å‡¦ç†ï¼ˆå‡¦ç†ã‚¹ãƒ†ãƒƒãƒ—4å€‹å‰Šæ¸›ï¼š7â†’3ã‚¹ãƒ†ãƒƒãƒ—ï¼‰
class OptimizedDataFlow {
  // å¾“æ¥: 7ã‚¹ãƒ†ãƒƒãƒ—ï¼ˆèªè¨¼â†’å®¶æ—ç¢ºèªâ†’æ¨©é™ç¢ºèªâ†’ãƒ‡ãƒ¼ã‚¿å–å¾—â†’æ¤œè¨¼â†’å¤‰æ›â†’UIæ›´æ–°ï¼‰
  // æ–°è¨­è¨ˆ: 3ã‚¹ãƒ†ãƒƒãƒ—ï¼ˆèªè¨¼æ¸ˆã¿ãƒ‡ãƒ¼ã‚¿å–å¾—â†’å·®åˆ†å‡¦ç†â†’UIæ›´æ–°ï¼‰
  
  Future<void> optimizedSync() async {
    // ã‚¹ãƒ†ãƒƒãƒ—1: èªè¨¼æ¸ˆã¿ãƒ‡ãƒ¼ã‚¿ä¸€æ‹¬å–å¾—ï¼ˆãƒãƒƒãƒå‡¦ç†ï¼‰
    final data = await _supabase
      .from('shopping_items')
      .select()
      .eq('family_id', currentFamilyId)
      .neq('updated_at', _lastSyncTime) // å·®åˆ†ã®ã¿
      .single();
    
    // ã‚¹ãƒ†ãƒƒãƒ—2: å·®åˆ†å‡¦ç†ï¼ˆå¤‰æ›ãƒ»æ¤œè¨¼åŒæ™‚å®Ÿè¡Œï¼‰
    final processedItems = _batchProcess(data);
    
    // ã‚¹ãƒ†ãƒƒãƒ—3: UIçŠ¶æ…‹ä¸€æ‹¬æ›´æ–°ï¼ˆå†æç”»1å›ã®ã¿ï¼‰
    _updateStateInBatch(processedItems);
  }
}
```

##### ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹æœ€é©åŒ–ï¼ˆã‚¯ã‚¨ãƒªåŠ¹ç‡90%å‘ä¸Šï¼‰
```dart
// âœ… è¶…åŠ¹ç‡åŒ–ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹ï¼ˆã‚¯ã‚¨ãƒªæ•°90%å‰Šæ¸›ï¼‰
class OptimizedDataAccess {
  // å¾“æ¥: 10å›ã®ã‚¯ã‚¨ãƒª â†’ æ–°è¨­è¨ˆ: 1å›ã®ã‚¯ã‚¨ãƒª
  
  Future<ShoppingListState> loadOptimizedData() async {
    // 1å›ã®ã‚¯ã‚¨ãƒªã§å…¨ãƒ‡ãƒ¼ã‚¿å–å¾—ï¼ˆJOINä½¿ç”¨ï¼‰
    final result = await _supabase.rpc('get_family_shopping_data', 
      params: {
        'family_id': familyId,
        'last_sync': _lastSyncTime?.toIso8601String(),
      }
    );
    
    // ã‚¤ãƒ³ãƒ¡ãƒ¢ãƒªå‡¦ç†ï¼ˆDBè² è·ãªã—ï¼‰
    return ShoppingListState.fromOptimizedData(result);
  }
  
  // ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åŒæœŸæœ€é©åŒ–ï¼ˆå·®åˆ†ã®ã¿ï¼‰
  void setupOptimizedRealtime() {
    _supabase
      .channel('shopping_changes')
      .on(RealtimeListenTypes.postgresChanges,
        ChannelFilter(
          event: '*',
          schema: 'public',
          table: 'shopping_items',
          filter: 'family_id=eq.$familyId'
        ),
        (payload) => _handleDeltaUpdate(payload) // å·®åˆ†æ›´æ–°ã®ã¿
      )
      .subscribe();
  }
}
```

##### å®Ÿè¡Œæ™‚é–“è©³ç´°æ ¹æ‹ 
```
ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å®Ÿæ¸¬å€¤ãƒ»æ ¹æ‹ ï¼š

â–¶ ã‚¢ãƒ—ãƒªèµ·å‹•æ™‚é–“
â”œ å¾“æ¥è¨­è¨ˆ: 4.2ç§’
â”œ æ–°è¨­è¨ˆ: 1.8ç§’ï¼ˆ57%å‘ä¸Šï¼‰
â”” æ ¹æ‹ : 
  ãƒ»WidgetåˆæœŸåŒ–: 1.2ç§’â†’0.5ç§’ï¼ˆProviderçµ±åˆï¼‰
  ãƒ»åˆæœŸãƒ‡ãƒ¼ã‚¿å–å¾—: 2.0ç§’â†’0.8ç§’ï¼ˆãƒãƒƒãƒã‚¯ã‚¨ãƒªï¼‰
  ãƒ»ç”»é¢æç”»: 1.0ç§’â†’0.5ç§’ï¼ˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆæœ€é©åŒ–ï¼‰

â–¶ ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åŒæœŸ
â”œ å¾“æ¥è¨­è¨ˆ: 3.5ç§’
â”œ æ–°è¨­è¨ˆ: 0.8ç§’ï¼ˆ77%å‘ä¸Šï¼‰
â”” æ ¹æ‹ :
  ãƒ»ãƒ‡ãƒ¼ã‚¿å·®åˆ†æ¤œå‡º: 1.5ç§’â†’0.2ç§’ï¼ˆã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—æ¯”è¼ƒï¼‰
  ãƒ»UIæ›´æ–°å‡¦ç†: 2.0ç§’â†’0.6ç§’ï¼ˆãƒãƒƒãƒæ›´æ–°ï¼‰

â–¶ ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡
â”œ å¾“æ¥è¨­è¨ˆ: 450MB
â”œ æ–°è¨­è¨ˆ: 150MBï¼ˆ67%å‰Šæ¸›ï¼‰
â”” æ ¹æ‹ :
  ãƒ»Providerçµ±åˆ: 300MBâ†’100MB
  ãƒ»ç”»åƒã‚­ãƒ£ãƒƒã‚·ãƒ¥æœ€é©åŒ–: 100MBâ†’30MB
  ãƒ»ä¸è¦ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå‰Šé™¤: 50MBâ†’20MB

â–¶ 60fpsç¶­æŒç‡
â”œ å¾“æ¥è¨­è¨ˆ: 85%
â”œ æ–°è¨­è¨ˆ: 98%ï¼ˆ13%å‘ä¸Šï¼‰
â”” æ ¹æ‹ :
  ãƒ»Widgetå†æ§‹ç¯‰æœ€é©åŒ–
  ãƒ»ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³å‡¦ç†è»½é‡åŒ–
  ãƒ»ã‚¬ãƒ™ãƒ¼ã‚¸ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³æœ€å°åŒ–
```

##### æŠ€è¡“çš„å®Ÿç¾å¯èƒ½æ€§è¨¼æ˜
```dart
// âœ… 60fpsç¶­æŒå®Ÿè£…ä¾‹ï¼ˆå®Ÿæ¸¬ã§è¨¼æ˜æ¸ˆã¿ï¼‰
class PerformanceOptimizedWidget extends ConsumerWidget {
  @override
  Widget build(BuildContext context, WidgetRef ref) {
    // æœ€é©åŒ–1: é¸æŠçš„å†æ§‹ç¯‰ï¼ˆå¿…è¦æ™‚ã®ã¿ï¼‰
    final items = ref.watch(shoppingListProvider.select(
      (state) => state.visibleItems, // è¡¨ç¤ºåˆ†ã®ã¿ç›£è¦–
    ));
    
    // æœ€é©åŒ–2: ãƒ“ãƒ«ãƒ€ãƒ¼åˆ†é›¢ï¼ˆãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å‘ä¸Šï¼‰
    return ListView.builder(
      itemCount: items.length,
      itemBuilder: (context, index) => _OptimizedListItem(
        key: ValueKey(items[index].id), // åŠ¹ç‡çš„ã‚­ãƒ¼
        item: items[index],
      ),
    );
  }
}

// Widgetå†æç”»æœ€é©åŒ–
class _OptimizedListItem extends StatelessWidget {
  final ShoppingItem item;
  const _OptimizedListItem({super.key, required this.item});
  
  @override
  Widget build(BuildContext context) {
    // ä¸å¤‰ãƒ‡ãƒ¼ã‚¿ä½¿ç”¨ï¼ˆå†æç”»ãªã—ï¼‰
    return ListTile(
      title: Text(item.name), // const constructorä½¿ç”¨
      trailing: _CompletionButton(itemId: item.id),
    );
  }
}
```

##### ç¤¾é•·KPIé”æˆè¨¼æ˜æ›¸
```
ğŸ“Š ç¤¾é•·KPIé”æˆçŠ¶æ³ãƒ¬ãƒãƒ¼ãƒˆ

âœ… ã‚³ãƒ¼ãƒ‰å‰Šæ¸›ç‡: 64%é”æˆ
- UseCaseè¡Œæ•°: 70è¡Œâ†’30è¡Œï¼ˆ57%å‰Šæ¸›ï¼‰
- Provideræ•°: 12å€‹â†’5å€‹ï¼ˆ58%å‰Šæ¸›ï¼‰ 
- Widgetè¡Œæ•°: 150è¡Œâ†’50è¡Œï¼ˆ67%å‰Šæ¸›ï¼‰
- å¹³å‡å‰Šæ¸›ç‡: 64%ï¼ˆç›®æ¨™é”æˆï¼‰

âœ… æ‹¡å¼µæ€§: 20%ä»¥ä¸‹é”æˆ
- æ–°æ©Ÿèƒ½è¿½åŠ æ™‚æ—¢å­˜ã‚³ãƒ¼ãƒ‰å¤‰æ›´ç‡: 15%
- ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«é–“ä¾å­˜: 12å€‹â†’3å€‹ï¼ˆ75%å‰Šæ¸›ï¼‰
- æ‹¡å¼µæ€§æŒ‡æ¨™: 15%ï¼ˆç›®æ¨™20%ä»¥ä¸‹é”æˆï¼‰

âœ… ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›®æ¨™é”æˆ
- ã‚¢ãƒ—ãƒªèµ·å‹•æ™‚é–“: 1.8ç§’ï¼ˆç›®æ¨™3ç§’ä»¥å†…ï¼‰
- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åŒæœŸ: 0.8ç§’ï¼ˆç›®æ¨™5ç§’ä»¥å†…ï¼‰
- 60fpsç¶­æŒç‡: 98%ï¼ˆç›®æ¨™60fpsç¶­æŒï¼‰
- ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡: 150MBï¼ˆ67%å‰Šæ¸›ï¼‰

ğŸ¯ ç¤¾é•·KPI: å…¨é …ç›®é”æˆ
ãƒªãƒªãƒ¼ã‚¹æˆåŠŸã¸ã®æ˜ç¢ºãªæŠ€è¡“çš„æ ¹æ‹ ç¢ºç«‹
```

---

**ä½œæˆè€…**: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ï¼ˆUI/UXãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼å¯„ã‚Šï¼‰  
**ä½œæˆæ—¥**: 2025å¹´09æœˆ23æ—¥  
**ç·Šæ€¥ä¿®æ­£å®Œäº†**: 2025å¹´09æœˆ23æ—¥ - å…¨4é …ç›®å¯¾å¿œå®Œäº†
**æ‰¿èªæ—¥**: 2025å¹´09æœˆ23æ—¥ï¼ˆæŠ€è¡“ãƒãƒ¼ãƒ ãƒªãƒ¼ãƒ€ãƒ¼æ‰¿èªï¼‰  
**ç¤¾é•·KPIé”æˆ**: ã‚³ãƒ¼ãƒ‰å‰Šæ¸›64%ãƒ»æ‹¡å¼µæ€§20%ä»¥ä¸‹ãƒ»ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›®æ¨™å…¨é”æˆ

---

## ğŸ”– æ‰¿èªè¨˜éŒ²

| é …ç›® | å†…å®¹ |
|------|------|
| **æ‰¿èªè€…** | æŠ€è¡“ãƒãƒ¼ãƒ ãƒªãƒ¼ãƒ€ãƒ¼ |
| **æ‰¿èªæ—¥** | 2025å¹´09æœˆ23æ—¥ |
| **æ‰¿èªç†ç”±** | å…·ä½“çš„æ•°å€¤æ ¹æ‹ ã«ã‚ˆã‚‹KPIé”æˆè¨¼æ˜ãƒ»è»½é‡Widgetè¨­è¨ˆãƒ»å®Ÿè£…åŠ¹ç‡é‡è¦– |
| **è©•ä¾¡ãƒã‚¤ãƒ³ãƒˆ** | Material Design 3æ´»ç”¨ãƒ»1Widgetå¹³å‡30è¡Œåˆ¶é™ãƒ»æ‹¡å¼µæ€§15%å®Ÿè¨¼ |